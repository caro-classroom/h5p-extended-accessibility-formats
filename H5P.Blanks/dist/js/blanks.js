/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./H5P.Blanks/src/blanks.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./H5P.Blanks/src/blanks.js":
/*!**********************************!*\
  !*** ./H5P.Blanks/src/blanks.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/*global H5P*/\nH5P.Blanks = function ($, Question) {\n  /**\n   * @constant\n   * @default\n   */\n  var STATE_ONGOING = 'ongoing';\n  var STATE_CHECKING = 'checking';\n  var STATE_SHOWING_SOLUTION = 'showing-solution';\n  var STATE_FINISHED = 'finished';\n  var XAPI_ALTERNATIVE_EXTENSION = 'https://h5p.org/x-api/alternatives';\n  var XAPI_CASE_SENSITIVITY = 'https://h5p.org/x-api/case-sensitivity';\n  var XAPI_REPORTING_VERSION_EXTENSION = 'https://h5p.org/x-api/h5p-reporting-version';\n  /**\n   * @typedef {Object} Params\n   *  Parameters/configuration object for Blanks\n   *\n   * @property {Object} Params.behaviour\n   * @property {string} Params.behaviour.confirmRetryDialog\n   * @property {string} Params.behaviour.confirmCheckDialog\n   *\n   * @property {Object} Params.confirmRetry\n   * @property {string} Params.confirmRetry.header\n   * @property {string} Params.confirmRetry.body\n   * @property {string} Params.confirmRetry.cancelLabel\n   * @property {string} Params.confirmRetry.confirmLabel\n   *\n   * @property {Object} Params.confirmCheck\n   * @property {string} Params.confirmCheck.header\n   * @property {string} Params.confirmCheck.body\n   * @property {string} Params.confirmCheck.cancelLabel\n   * @property {string} Params.confirmCheck.confirmLabel\n   */\n\n  /**\n   * Initialize module.\n   *\n   * @class H5P.Blanks\n   * @extends H5P.Question\n   * @param {Params} params\n   * @param {number} id Content identification\n   * @param {Object} contentData Task specific content data\n   */\n\n  function Blanks(params, id, contentData) {\n    var self = this; // Inheritance\n\n    Question.call(self, 'blanks'); // IDs\n\n    this.contentId = id;\n    this.contentData = contentData;\n    this.params = $.extend(true, {}, {\n      text: \"Fill in\",\n      questions: [\"Oslo is the capital of *Norway*.\"],\n      overallFeedback: [],\n      userAnswers: [],\n      // TODO This isn't in semantics?\n      showSolutions: \"Show solution\",\n      tryAgain: \"Try again\",\n      checkAnswer: \"Check\",\n      changeAnswer: \"Change answer\",\n      notFilledOut: \"Please fill in all blanks to view solution\",\n      answerIsCorrect: \"':ans' is correct\",\n      answerIsWrong: \"':ans' is wrong\",\n      answeredCorrectly: \"Answered correctly\",\n      answeredIncorrectly: \"Answered incorrectly\",\n      solutionLabel: \"Correct answer:\",\n      inputLabel: \"Blank input @num of @total\",\n      inputHasTipLabel: \"Tip available\",\n      tipLabel: \"Tip\",\n      scoreBarLabel: 'You got :num out of :total points',\n      behaviour: {\n        enableRetry: true,\n        enableSolutionsButton: true,\n        enableCheckButton: false,\n        caseSensitive: true,\n        showSolutionsRequiresInput: true,\n        autoCheck: false,\n        separateLines: false,\n        disableImageZooming: false\n      }\n    }, params); // override buttons\n\n    if (self.params.behaviour.disableButtons) {\n      self.params.behaviour.enableRetry = false;\n      self.params.behaviour.enableSolutionsButton = false;\n      self.params.behaviour.enableCheckButton = false;\n      self.params.behaviour.autoCheck = false;\n    } // Delete empty questions\n\n\n    for (var i = this.params.questions.length - 1; i >= 0; i--) {\n      if (!this.params.questions[i]) {\n        this.params.questions.splice(i, 1);\n      }\n    } // Previous state\n\n\n    this.contentData = contentData;\n\n    if (this.contentData !== undefined && this.contentData.previousState !== undefined) {\n      this.previousState = this.contentData.previousState;\n    } // Clozes\n\n\n    this.clozes = []; // Keep track tabbing forward or backwards\n\n    this.shiftPressed = false;\n    H5P.$body.keydown(function (event) {\n      if (event.keyCode === 16) {\n        self.shiftPressed = true;\n      }\n    }).keyup(function (event) {\n      if (event.keyCode === 16) {\n        self.shiftPressed = false;\n      }\n    });\n  } // Inheritance\n\n\n  Blanks.prototype = Object.create(Question.prototype);\n  Blanks.prototype.constructor = Blanks;\n  /**\n   * Registers this question type's DOM elements before they are attached.\n   * Called from H5P.Question.\n   */\n\n  Blanks.prototype.registerDomElements = function () {\n    var self = this; // Check for task media\n\n    var media = self.params.media;\n\n    if (media && media.library) {\n      var type = media.library.split(' ')[0];\n\n      if (type === 'H5P.Image') {\n        if (media.params.file) {\n          // Register task image\n          self.setImage(media.params.file.path, {\n            disableImageZooming: self.params.behaviour.disableImageZooming,\n            alt: media.params.alt,\n            title: media.params.title\n          });\n        }\n      } else if (type === 'H5P.Video') {\n        if (media.params.sources) {\n          // Register task video\n          self.setVideo(media);\n        }\n      }\n    } // Register task introduction text\n\n\n    self.setIntroduction(self.params.text); // Register task content area\n\n    self.setContent(self.createQuestions(), {\n      'class': self.params.behaviour.separateLines ? 'h5p-separate-lines' : ''\n    }); // ... and buttons\n\n    self.registerButtons(); // Restore previous state\n\n    self.setH5PUserState();\n  };\n  /**\n   * Create all the buttons for the task\n   */\n\n\n  Blanks.prototype.registerButtons = function () {\n    var self = this;\n    var $content = $('[data-content-id=\"' + self.contentId + '\"].h5p-content');\n    var $containerParents = $content.parents('.h5p-container'); // select find container to attach dialogs to\n\n    var $container;\n\n    if ($containerParents.length !== 0) {\n      // use parent highest up if any\n      $container = $containerParents.last();\n    } else if ($content.length !== 0) {\n      $container = $content;\n    } else {\n      $container = $(document.body);\n    }\n\n    if (!self.params.behaviour.autoCheck && this.params.behaviour.enableCheckButton) {\n      // Check answer button\n      self.addButton('check-answer', self.params.checkAnswer, function () {\n        self.toggleButtonVisibility(STATE_CHECKING);\n        self.markResults();\n        self.showEvaluation();\n        self.triggerAnswered();\n      }, true, {}, {\n        confirmationDialog: {\n          enable: self.params.behaviour.confirmCheckDialog,\n          l10n: self.params.confirmCheck,\n          instance: self,\n          $parentElement: $container\n        }\n      });\n    } // Show solution button\n\n\n    self.addButton('show-solution', self.params.showSolutions, function () {\n      self.showCorrectAnswers(false);\n    }, self.params.behaviour.enableSolutionsButton); // Try again button\n\n    if (self.params.behaviour.enableRetry === true) {\n      self.addButton('try-again', self.params.tryAgain, function () {\n        self.resetTask();\n        self.$questions.filter(':first').find('input:first').focus();\n      }, true, {}, {\n        confirmationDialog: {\n          enable: self.params.behaviour.confirmRetryDialog,\n          l10n: self.params.confirmRetry,\n          instance: self,\n          $parentElement: $container\n        }\n      });\n    } // Show tts task button\n\n\n    if (self.params.behaviour.enableTTSButtons) {\n      self.addButton(this.params.tts, \"tts\");\n    }\n\n    self.toggleButtonVisibility(STATE_ONGOING);\n  };\n  /**\n   * Find blanks in a string and run a handler on those blanks\n   *\n   * @param {string} question\n   *   Question text containing blanks enclosed in asterisks.\n   * @param {function} handler\n   *   Replaces the blanks text with an input field.\n   * @returns {string}\n   *   The question with blanks replaced by the given handler.\n   */\n\n\n  Blanks.prototype.handleBlanks = function (question, handler) {\n    // Go through the text and run handler on all asterisk\n    var clozeEnd,\n        clozeStart = question.indexOf('*');\n    var self = this;\n\n    while (clozeStart !== -1 && clozeEnd !== -1) {\n      clozeStart++;\n      clozeEnd = question.indexOf('*', clozeStart);\n\n      if (clozeEnd === -1) {\n        continue; // No end\n      }\n\n      var clozeContent = question.substring(clozeStart, clozeEnd);\n      var replacer = '';\n\n      if (clozeContent.length) {\n        replacer = handler(self.parseSolution(clozeContent));\n        clozeEnd++;\n      } else {\n        clozeStart += 1;\n      }\n\n      question = question.slice(0, clozeStart - 1) + replacer + question.slice(clozeEnd);\n      clozeEnd -= clozeEnd - clozeStart - replacer.length; // Find the next cloze\n\n      clozeStart = question.indexOf('*', clozeEnd);\n    }\n\n    return question;\n  };\n  /**\n   * Create questitons html for DOM\n   */\n\n\n  Blanks.prototype.createQuestions = function () {\n    var self = this;\n    var html = '';\n    var clozeNumber = 0;\n\n    for (var i = 0; i < self.params.questions.length; i++) {\n      var question = self.params.questions[i]; // Go through the question text and replace all the asterisks with input fields\n\n      question = self.handleBlanks(question, function (solution) {\n        // Create new cloze\n        clozeNumber += 1;\n        var defaultUserAnswer = self.params.userAnswers.length > self.clozes.length ? self.params.userAnswers[self.clozes.length] : null;\n        var cloze = new Blanks.Cloze(solution, self.params.behaviour, defaultUserAnswer, solution.ttsID, {\n          answeredCorrectly: self.params.answeredCorrectly,\n          answeredIncorrectly: self.params.answeredIncorrectly,\n          solutionLabel: self.params.solutionLabel,\n          inputLabel: self.params.inputLabel,\n          inputHasTipLabel: self.params.inputHasTipLabel,\n          tipLabel: self.params.tipLabel\n        });\n        self.clozes.push(cloze);\n        return cloze;\n      });\n      html += '<div>' + question + '</div>';\n    }\n\n    self.hasClozes = clozeNumber > 0;\n    this.$questions = $(html);\n    this.$questions.find('.h5p-action-button').each(function (i) {\n      $(this).on(\"click\", function () {\n        self.handleTTSButtonClick(this);\n      });\n    }); // Set input fields.\n\n    this.$questions.find('input').each(function (i) {\n      var afterCheck;\n\n      if (self.params.behaviour.autoCheck) {\n        afterCheck = function afterCheck() {\n          var answer = $(\"<div>\").text(this.getUserAnswer()).html();\n          self.read((this.correct() ? self.params.answerIsCorrect : self.params.answerIsWrong).replace(':ans', answer));\n\n          if (self.done || self.allBlanksFilledOut()) {\n            // All answers has been given. Show solutions button.\n            self.toggleButtonVisibility(STATE_CHECKING);\n            self.showEvaluation();\n            self.triggerAnswered();\n            self.done = true;\n          }\n        };\n      }\n\n      self.clozes[i].setInput($(this), afterCheck, function () {\n        self.toggleButtonVisibility(STATE_ONGOING);\n\n        if (!self.params.behaviour.autoCheck) {\n          self.hideEvaluation();\n        }\n      }, i, self.clozes.length);\n    }).keydown(function (event) {\n      var $this = $(this); // Adjust width of text input field to match value\n\n      self.autoGrowTextField($this);\n      var $inputs, isLastInput;\n      var enterPressed = event.keyCode === 13;\n      var tabPressedAutoCheck = event.keyCode === 9 && self.params.behaviour.autoCheck;\n\n      if (enterPressed || tabPressedAutoCheck) {\n        // Figure out which inputs are left to answer\n        $inputs = self.$questions.find('.h5p-input-wrapper:not(.h5p-correct) .h5p-text-input'); // Figure out if this is the last input\n\n        isLastInput = $this.is($inputs[$inputs.length - 1]);\n      }\n\n      if (tabPressedAutoCheck && isLastInput && !self.shiftPressed || enterPressed && isLastInput) {\n        // Focus first button on next tick\n        setTimeout(function () {\n          self.focusButton();\n        }, 10);\n      }\n\n      if (enterPressed) {\n        if (isLastInput) {\n          // Check answers\n          $this.trigger('blur');\n        } else {\n          // Find next input to focus\n          $inputs.eq($inputs.index($this) + 1).focus();\n        }\n\n        return false; // Prevent form submission on enter key\n      }\n    }).on('change', function () {\n      self.answered = true;\n      self.triggerXAPI('interacted');\n    });\n    self.on('resize', function () {\n      self.resetGrowTextField();\n    });\n    return this.$questions;\n  };\n  /**\n   *\n   */\n\n\n  Blanks.prototype.autoGrowTextField = function ($input) {\n    // Do not set text field size when separate lines is enabled\n    if (this.params.behaviour.separateLines) {\n      return;\n    }\n\n    var self = this;\n    var fontSize = parseInt($input.css('font-size'), 10);\n    var minEm = 3;\n    var minPx = fontSize * minEm;\n    var rightPadEm = 3.25;\n    var rightPadPx = fontSize * rightPadEm;\n    var static_min_pad = 0.5 * fontSize;\n    setTimeout(function () {\n      var tmp = $('<div>', {\n        'text': $input.val()\n      });\n      tmp.css({\n        'position': 'absolute',\n        'white-space': 'nowrap',\n        'font-size': $input.css('font-size'),\n        'font-family': $input.css('font-family'),\n        'padding': $input.css('padding'),\n        'width': 'initial'\n      });\n      $input.parent().append(tmp);\n      var width = tmp.width();\n      var parentWidth = self.$questions.width();\n      tmp.remove();\n\n      if (width <= minPx) {\n        // Apply min width\n        $input.width(minPx + static_min_pad);\n      } else if (width + rightPadPx >= parentWidth) {\n        // Apply max width of parent\n        $input.width(parentWidth - rightPadPx);\n      } else {\n        // Apply width that wraps input\n        $input.width(width + static_min_pad);\n      }\n    }, 1);\n  };\n  /**\n   * Resize all text field growth to current size.\n   */\n\n\n  Blanks.prototype.resetGrowTextField = function () {\n    var self = this;\n    this.$questions.find('input').each(function () {\n      self.autoGrowTextField($(this));\n    });\n  };\n  /**\n   * Toggle buttons dependent of state.\n   *\n   * Using CSS-rules to conditionally show/hide using the data-attribute [data-state]\n   */\n\n\n  Blanks.prototype.toggleButtonVisibility = function (state) {\n    // The show solutions button is hidden if all answers are correct\n    var allCorrect = this.getScore() === this.getMaxScore();\n\n    if (this.params.behaviour.autoCheck && allCorrect) {\n      // We are viewing the solutions\n      state = STATE_FINISHED;\n    }\n\n    if (this.params.behaviour.enableSolutionsButton) {\n      if (state === STATE_CHECKING && !allCorrect) {\n        this.showButton('show-solution');\n      } else {\n        this.hideButton('show-solution');\n      }\n    }\n\n    if (this.params.behaviour.enableRetry) {\n      if (state === STATE_CHECKING && !allCorrect || state === STATE_SHOWING_SOLUTION) {\n        this.showButton('try-again');\n      } else {\n        this.hideButton('try-again');\n      }\n    }\n\n    if (state === STATE_ONGOING) {\n      this.showButton('check-answer');\n    } else {\n      this.hideButton('check-answer');\n    }\n\n    this.trigger('resize');\n  };\n  /**\n   * Check if solution is allowed. Warn user if not\n   */\n\n\n  Blanks.prototype.allowSolution = function () {\n    if (this.params.behaviour.showSolutionsRequiresInput === true) {\n      if (!this.allBlanksFilledOut()) {\n        this.updateFeedbackContent(this.params.notFilledOut);\n        this.read(this.params.notFilledOut);\n        return false;\n      }\n    }\n\n    return true;\n  };\n  /**\n   * Check if all blanks are filled out\n   *\n   * @method allBlanksFilledOut\n   * @return {boolean} Returns true if all blanks are filled out.\n   */\n\n\n  Blanks.prototype.allBlanksFilledOut = function () {\n    return !this.clozes.some(function (cloze) {\n      return !cloze.filledOut();\n    });\n  };\n  /**\n   * Mark which answers are correct and which are wrong and disable fields if retry is off.\n   */\n\n\n  Blanks.prototype.markResults = function () {\n    var self = this;\n\n    for (var i = 0; i < self.clozes.length; i++) {\n      self.clozes[i].checkAnswer();\n\n      if (!self.params.behaviour.enableRetry) {\n        self.clozes[i].disableInput();\n      }\n    }\n\n    this.trigger('resize');\n  };\n  /**\n   * Removed marked results\n   */\n\n\n  Blanks.prototype.removeMarkedResults = function () {\n    this.$questions.find('.h5p-input-wrapper').removeClass('h5p-correct h5p-wrong');\n    this.$questions.find('.h5p-input-wrapper > input').attr('disabled', false);\n    this.trigger('resize');\n  };\n  /**\n   * Displays the correct answers\n   * @param {boolean} [alwaysShowSolution]\n   *  Will always show solution if true\n   */\n\n\n  Blanks.prototype.showCorrectAnswers = function (alwaysShowSolution) {\n    if (!alwaysShowSolution && !this.allowSolution()) {\n      return;\n    }\n\n    this.toggleButtonVisibility(STATE_SHOWING_SOLUTION);\n    this.hideSolutions();\n\n    for (var i = 0; i < this.clozes.length; i++) {\n      this.clozes[i].showSolution();\n    }\n\n    this.trigger('resize');\n  };\n  /**\n   * Toggle input allowed for all input fields\n   *\n   * @method function\n   * @param  {boolean} enabled True if fields should allow input, otherwise false\n   */\n\n\n  Blanks.prototype.toggleAllInputs = function (enabled) {\n    for (var i = 0; i < this.clozes.length; i++) {\n      this.clozes[i].toggleInput(enabled);\n    }\n  };\n  /**\n   * Display the correct solution for the input boxes.\n   *\n   * This is invoked from CP and QS - be carefull!\n   */\n\n\n  Blanks.prototype.showSolutions = function () {\n    this.params.behaviour.enableSolutionsButton = true;\n    this.toggleButtonVisibility(STATE_FINISHED);\n    this.markResults();\n    this.showEvaluation();\n    this.showCorrectAnswers(true);\n    this.toggleAllInputs(false); //Hides all buttons in \"show solution\" mode.\n\n    this.hideButtons();\n  };\n  /**\n   * Resets the complete task.\n   * Used in contracts.\n   * @public\n   */\n\n\n  Blanks.prototype.resetTask = function () {\n    this.answered = false;\n    this.hideEvaluation();\n    this.hideSolutions();\n    this.clearAnswers();\n    this.removeMarkedResults();\n    this.toggleButtonVisibility(STATE_ONGOING);\n    this.resetGrowTextField();\n    this.toggleAllInputs(true);\n    this.done = false;\n  };\n  /**\n   * Hides all buttons.\n   * @public\n   */\n\n\n  Blanks.prototype.hideButtons = function () {\n    this.toggleButtonVisibility(STATE_FINISHED);\n  };\n  /**\n   * Trigger xAPI answered event\n   */\n\n\n  Blanks.prototype.triggerAnswered = function () {\n    this.answered = true;\n    var xAPIEvent = this.createXAPIEventTemplate('answered');\n    this.addQuestionToXAPI(xAPIEvent);\n    this.addResponseToXAPI(xAPIEvent);\n    this.trigger(xAPIEvent);\n  };\n  /**\n   * Get xAPI data.\n   * Contract used by report rendering engine.\n   *\n   * @see contract at {@link https://h5p.org/documentation/developers/contracts#guides-header-6}\n   */\n\n\n  Blanks.prototype.getXAPIData = function () {\n    var xAPIEvent = this.createXAPIEventTemplate('answered');\n    this.addQuestionToXAPI(xAPIEvent);\n    this.addResponseToXAPI(xAPIEvent);\n    return {\n      statement: xAPIEvent.data.statement\n    };\n  };\n  /**\n   * Generate xAPI object definition used in xAPI statements.\n   * @return {Object}\n   */\n\n\n  Blanks.prototype.getxAPIDefinition = function () {\n    var definition = {};\n    definition.description = {\n      'en-US': this.params.text\n    };\n    definition.type = 'http://adlnet.gov/expapi/activities/cmi.interaction';\n    definition.interactionType = 'fill-in';\n    var clozeSolutions = [];\n    var crp = ''; // xAPI forces us to create solution patterns for all possible solution combinations\n\n    for (var i = 0; i < this.params.questions.length; i++) {\n      var question = this.handleBlanks(this.params.questions[i], function (solution) {\n        // Collect all solution combinations for the H5P Alternative extension\n        clozeSolutions.push(solution.solutions); // Create a basic response pattern out of the first alternative for each blanks field\n\n        crp += (!crp ? '' : '[,]') + solution.solutions[0]; // We replace the solutions in the question with a \"blank\"\n\n        return '__________';\n      });\n      definition.description['en-US'] += question;\n    } // Set the basic response pattern (not supporting multiple alternatives for blanks)\n\n\n    definition.correctResponsesPattern = ['{case_matters=' + this.params.behaviour.caseSensitive + '}' + crp]; // Add the H5P Alternative extension which provides all the combinations of different answers\n    // Reporting software will need to support this extension for alternatives to work.\n\n    definition.extensions = definition.extensions || {};\n    definition.extensions[XAPI_CASE_SENSITIVITY] = this.params.behaviour.caseSensitive;\n    definition.extensions[XAPI_ALTERNATIVE_EXTENSION] = clozeSolutions;\n    return definition;\n  };\n  /**\n   * Add the question itselt to the definition part of an xAPIEvent\n   */\n\n\n  Blanks.prototype.addQuestionToXAPI = function (xAPIEvent) {\n    var definition = xAPIEvent.getVerifiedStatementValue(['object', 'definition']);\n    $.extend(true, definition, this.getxAPIDefinition()); // Set reporting module version if alternative extension is used\n\n    if (definition.extensions && definition.extensions[XAPI_ALTERNATIVE_EXTENSION]) {\n      var context = xAPIEvent.getVerifiedStatementValue(['context']);\n      context.extensions = context.extensions || {};\n      context.extensions[XAPI_REPORTING_VERSION_EXTENSION] = '1.1.0';\n    }\n  };\n  /**\n   * Parse the solution text (text between the asterisks)\n   *\n   * @param {string} solutionText\n   * @returns {object} with the following properties\n   *  - tip: the tip text for this solution, undefined if no tip\n   *  - solutions: array of solution words\n   */\n\n\n  Blanks.prototype.parseSolution = function (solutionText) {\n    var tip, solution, ttsID;\n    var tipStart = solutionText.indexOf(':');\n\n    if (tipStart !== -1) {\n      // Found tip, now extract\n      tip = solutionText.slice(tipStart + 1);\n      solution = solutionText.slice(0, tipStart);\n    } else {\n      solution = solutionText;\n    }\n\n    var ttsStart = solution.indexOf('$');\n\n    if (ttsStart !== -1) {\n      // Found ttsID, now extract\n      ttsID = solution.slice(ttsStart + 1);\n      solution = solution.slice(0, ttsStart);\n    } // Split up alternatives\n\n\n    var solutions = solution.split('/'); // Trim solutions\n\n    for (var i = 0; i < solutions.length; i++) {\n      solutions[i] = H5P.trim(solutions[i]); //decodes html entities\n\n      var elem = document.createElement('textarea');\n      elem.innerHTML = solutions[i];\n      solutions[i] = elem.value;\n    }\n\n    return {\n      tip: tip,\n      solutions: solutions,\n      ttsID: ttsID\n    };\n  };\n  /**\n   * Add the response part to an xAPI event\n   *\n   * @param {H5P.XAPIEvent} xAPIEvent\n   *  The xAPI event we will add a response to\n   */\n\n\n  Blanks.prototype.addResponseToXAPI = function (xAPIEvent) {\n    xAPIEvent.setScoredResult(this.getScore(), this.getMaxScore(), this);\n    xAPIEvent.data.statement.result.response = this.getxAPIResponse();\n  };\n  /**\n   * Generate xAPI user response, used in xAPI statements.\n   * @return {string} User answers separated by the \"[,]\" pattern\n   */\n\n\n  Blanks.prototype.getxAPIResponse = function () {\n    var usersAnswers = this.getCurrentState();\n    return usersAnswers.join('[,]');\n  };\n  /**\n   * Show evaluation widget, i.e: 'You got x of y blanks correct'\n   */\n\n\n  Blanks.prototype.showEvaluation = function () {\n    var maxScore = this.getMaxScore();\n    var score = this.getScore();\n    var scoreText = H5P.Question.determineOverallFeedback(this.params.overallFeedback, score / maxScore).replace('@score', score).replace('@total', maxScore);\n    this.setFeedback(scoreText, score, maxScore, this.params.scoreBarLabel);\n\n    if (score === maxScore) {\n      this.toggleButtonVisibility(STATE_FINISHED);\n    }\n  };\n  /**\n   * Hide the evaluation widget\n   */\n\n\n  Blanks.prototype.hideEvaluation = function () {\n    // Clear evaluation section.\n    this.removeFeedback();\n  };\n  /**\n   * Hide solutions. (/try again)\n   */\n\n\n  Blanks.prototype.hideSolutions = function () {\n    // Clean solution from quiz\n    this.$questions.find('.h5p-correct-answer').remove();\n  };\n  /**\n   * Get maximum number of correct answers.\n   *\n   * @returns {Number} Max points\n   */\n\n\n  Blanks.prototype.getMaxScore = function () {\n    var self = this;\n    return self.clozes.length;\n  };\n  /**\n   * Count the number of correct answers.\n   *\n   * @returns {Number} Points\n   */\n\n\n  Blanks.prototype.getScore = function () {\n    var self = this;\n    var correct = 0;\n\n    for (var i = 0; i < self.clozes.length; i++) {\n      if (self.clozes[i].correct()) {\n        correct++;\n      }\n\n      self.params.userAnswers[i] = self.clozes[i].getUserAnswer();\n    }\n\n    return correct;\n  };\n\n  Blanks.prototype.getTitle = function () {\n    return H5P.createTitle(this.contentData.metadata && this.contentData.metadata.title ? this.contentData.metadata.title : 'Fill In');\n  };\n  /**\n   * Clear the user's answers\n   */\n\n\n  Blanks.prototype.clearAnswers = function () {\n    this.clozes.forEach(function (cloze) {\n      cloze.setUserInput('');\n      cloze.resetAriaLabel();\n    });\n  };\n  /**\n   * Checks if all has been answered.\n   *\n   * @returns {Boolean}\n   */\n\n\n  Blanks.prototype.getAnswerGiven = function () {\n    return this.answered || !this.hasClozes;\n  };\n  /**\n   * Helps set focus the given input field.\n   * @param {jQuery} $input\n   */\n\n\n  Blanks.setFocus = function ($input) {\n    setTimeout(function () {\n      $input.focus();\n    }, 1);\n  };\n  /**\n   * Returns an object containing content of each cloze\n   *\n   * @returns {object} object containing content for each cloze\n   */\n\n\n  Blanks.prototype.getCurrentState = function () {\n    var clozesContent = []; // Get user input for every cloze\n\n    this.clozes.forEach(function (cloze) {\n      clozesContent.push(cloze.getUserInput());\n    });\n    return clozesContent;\n  };\n  /**\n   * Sets answers to current user state\n   */\n\n\n  Blanks.prototype.setH5PUserState = function () {\n    var self = this;\n    var isValidState = this.previousState !== undefined && this.previousState.length && this.previousState.length === this.clozes.length; // Check that stored user state is valid\n\n    if (!isValidState) {\n      return;\n    } // Set input from user state\n\n\n    var hasAllClozesFilled = true;\n    this.previousState.forEach(function (clozeContent, ccIndex) {\n      // Register that an answer has been given\n      if (clozeContent.length) {\n        self.answered = true;\n      }\n\n      var cloze = self.clozes[ccIndex];\n      cloze.setUserInput(clozeContent); // Handle instant feedback\n\n      if (self.params.behaviour.autoCheck) {\n        if (cloze.filledOut()) {\n          cloze.checkAnswer();\n        } else {\n          hasAllClozesFilled = false;\n        }\n      }\n    });\n\n    if (self.params.behaviour.autoCheck && hasAllClozesFilled) {\n      self.showEvaluation();\n      self.toggleButtonVisibility(STATE_CHECKING);\n    }\n  };\n  /**\n   * Disables any active input. Useful for freezing the task and dis-allowing\n   * modification of wrong answers.\n   */\n\n\n  Blanks.prototype.disableInput = function () {\n    this.$questions.find('input').attr('disabled', true);\n  };\n\n  return Blanks;\n}(H5P.jQuery, H5P.Question);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9INVAuQmxhbmtzL3NyYy9ibGFua3MuanM/YmRkMCJdLCJuYW1lcyI6WyJINVAiLCJCbGFua3MiLCIkIiwiUXVlc3Rpb24iLCJTVEFURV9PTkdPSU5HIiwiU1RBVEVfQ0hFQ0tJTkciLCJTVEFURV9TSE9XSU5HX1NPTFVUSU9OIiwiU1RBVEVfRklOSVNIRUQiLCJYQVBJX0FMVEVSTkFUSVZFX0VYVEVOU0lPTiIsIlhBUElfQ0FTRV9TRU5TSVRJVklUWSIsIlhBUElfUkVQT1JUSU5HX1ZFUlNJT05fRVhURU5TSU9OIiwicGFyYW1zIiwiaWQiLCJjb250ZW50RGF0YSIsInNlbGYiLCJjYWxsIiwiY29udGVudElkIiwiZXh0ZW5kIiwidGV4dCIsInF1ZXN0aW9ucyIsIm92ZXJhbGxGZWVkYmFjayIsInVzZXJBbnN3ZXJzIiwic2hvd1NvbHV0aW9ucyIsInRyeUFnYWluIiwiY2hlY2tBbnN3ZXIiLCJjaGFuZ2VBbnN3ZXIiLCJub3RGaWxsZWRPdXQiLCJhbnN3ZXJJc0NvcnJlY3QiLCJhbnN3ZXJJc1dyb25nIiwiYW5zd2VyZWRDb3JyZWN0bHkiLCJhbnN3ZXJlZEluY29ycmVjdGx5Iiwic29sdXRpb25MYWJlbCIsImlucHV0TGFiZWwiLCJpbnB1dEhhc1RpcExhYmVsIiwidGlwTGFiZWwiLCJzY29yZUJhckxhYmVsIiwiYmVoYXZpb3VyIiwiZW5hYmxlUmV0cnkiLCJlbmFibGVTb2x1dGlvbnNCdXR0b24iLCJlbmFibGVDaGVja0J1dHRvbiIsImNhc2VTZW5zaXRpdmUiLCJzaG93U29sdXRpb25zUmVxdWlyZXNJbnB1dCIsImF1dG9DaGVjayIsInNlcGFyYXRlTGluZXMiLCJkaXNhYmxlSW1hZ2Vab29taW5nIiwiZGlzYWJsZUJ1dHRvbnMiLCJpIiwibGVuZ3RoIiwic3BsaWNlIiwidW5kZWZpbmVkIiwicHJldmlvdXNTdGF0ZSIsImNsb3plcyIsInNoaWZ0UHJlc3NlZCIsIiRib2R5Iiwia2V5ZG93biIsImV2ZW50Iiwia2V5Q29kZSIsImtleXVwIiwicHJvdG90eXBlIiwiT2JqZWN0IiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJyZWdpc3RlckRvbUVsZW1lbnRzIiwibWVkaWEiLCJsaWJyYXJ5IiwidHlwZSIsInNwbGl0IiwiZmlsZSIsInNldEltYWdlIiwicGF0aCIsImFsdCIsInRpdGxlIiwic291cmNlcyIsInNldFZpZGVvIiwic2V0SW50cm9kdWN0aW9uIiwic2V0Q29udGVudCIsImNyZWF0ZVF1ZXN0aW9ucyIsInJlZ2lzdGVyQnV0dG9ucyIsInNldEg1UFVzZXJTdGF0ZSIsIiRjb250ZW50IiwiJGNvbnRhaW5lclBhcmVudHMiLCJwYXJlbnRzIiwiJGNvbnRhaW5lciIsImxhc3QiLCJkb2N1bWVudCIsImJvZHkiLCJhZGRCdXR0b24iLCJ0b2dnbGVCdXR0b25WaXNpYmlsaXR5IiwibWFya1Jlc3VsdHMiLCJzaG93RXZhbHVhdGlvbiIsInRyaWdnZXJBbnN3ZXJlZCIsImNvbmZpcm1hdGlvbkRpYWxvZyIsImVuYWJsZSIsImNvbmZpcm1DaGVja0RpYWxvZyIsImwxMG4iLCJjb25maXJtQ2hlY2siLCJpbnN0YW5jZSIsIiRwYXJlbnRFbGVtZW50Iiwic2hvd0NvcnJlY3RBbnN3ZXJzIiwicmVzZXRUYXNrIiwiJHF1ZXN0aW9ucyIsImZpbHRlciIsImZpbmQiLCJmb2N1cyIsImNvbmZpcm1SZXRyeURpYWxvZyIsImNvbmZpcm1SZXRyeSIsImVuYWJsZVRUU0J1dHRvbnMiLCJ0dHMiLCJoYW5kbGVCbGFua3MiLCJxdWVzdGlvbiIsImhhbmRsZXIiLCJjbG96ZUVuZCIsImNsb3plU3RhcnQiLCJpbmRleE9mIiwiY2xvemVDb250ZW50Iiwic3Vic3RyaW5nIiwicmVwbGFjZXIiLCJwYXJzZVNvbHV0aW9uIiwic2xpY2UiLCJodG1sIiwiY2xvemVOdW1iZXIiLCJzb2x1dGlvbiIsImRlZmF1bHRVc2VyQW5zd2VyIiwiY2xvemUiLCJDbG96ZSIsInR0c0lEIiwicHVzaCIsImhhc0Nsb3plcyIsImVhY2giLCJvbiIsImhhbmRsZVRUU0J1dHRvbkNsaWNrIiwiYWZ0ZXJDaGVjayIsImFuc3dlciIsImdldFVzZXJBbnN3ZXIiLCJyZWFkIiwiY29ycmVjdCIsInJlcGxhY2UiLCJkb25lIiwiYWxsQmxhbmtzRmlsbGVkT3V0Iiwic2V0SW5wdXQiLCJoaWRlRXZhbHVhdGlvbiIsIiR0aGlzIiwiYXV0b0dyb3dUZXh0RmllbGQiLCIkaW5wdXRzIiwiaXNMYXN0SW5wdXQiLCJlbnRlclByZXNzZWQiLCJ0YWJQcmVzc2VkQXV0b0NoZWNrIiwiaXMiLCJzZXRUaW1lb3V0IiwiZm9jdXNCdXR0b24iLCJ0cmlnZ2VyIiwiZXEiLCJpbmRleCIsImFuc3dlcmVkIiwidHJpZ2dlclhBUEkiLCJyZXNldEdyb3dUZXh0RmllbGQiLCIkaW5wdXQiLCJmb250U2l6ZSIsInBhcnNlSW50IiwiY3NzIiwibWluRW0iLCJtaW5QeCIsInJpZ2h0UGFkRW0iLCJyaWdodFBhZFB4Iiwic3RhdGljX21pbl9wYWQiLCJ0bXAiLCJ2YWwiLCJwYXJlbnQiLCJhcHBlbmQiLCJ3aWR0aCIsInBhcmVudFdpZHRoIiwicmVtb3ZlIiwic3RhdGUiLCJhbGxDb3JyZWN0IiwiZ2V0U2NvcmUiLCJnZXRNYXhTY29yZSIsInNob3dCdXR0b24iLCJoaWRlQnV0dG9uIiwiYWxsb3dTb2x1dGlvbiIsInVwZGF0ZUZlZWRiYWNrQ29udGVudCIsInNvbWUiLCJmaWxsZWRPdXQiLCJkaXNhYmxlSW5wdXQiLCJyZW1vdmVNYXJrZWRSZXN1bHRzIiwicmVtb3ZlQ2xhc3MiLCJhdHRyIiwiYWx3YXlzU2hvd1NvbHV0aW9uIiwiaGlkZVNvbHV0aW9ucyIsInNob3dTb2x1dGlvbiIsInRvZ2dsZUFsbElucHV0cyIsImVuYWJsZWQiLCJ0b2dnbGVJbnB1dCIsImhpZGVCdXR0b25zIiwiY2xlYXJBbnN3ZXJzIiwieEFQSUV2ZW50IiwiY3JlYXRlWEFQSUV2ZW50VGVtcGxhdGUiLCJhZGRRdWVzdGlvblRvWEFQSSIsImFkZFJlc3BvbnNlVG9YQVBJIiwiZ2V0WEFQSURhdGEiLCJzdGF0ZW1lbnQiLCJkYXRhIiwiZ2V0eEFQSURlZmluaXRpb24iLCJkZWZpbml0aW9uIiwiZGVzY3JpcHRpb24iLCJpbnRlcmFjdGlvblR5cGUiLCJjbG96ZVNvbHV0aW9ucyIsImNycCIsInNvbHV0aW9ucyIsImNvcnJlY3RSZXNwb25zZXNQYXR0ZXJuIiwiZXh0ZW5zaW9ucyIsImdldFZlcmlmaWVkU3RhdGVtZW50VmFsdWUiLCJjb250ZXh0Iiwic29sdXRpb25UZXh0IiwidGlwIiwidGlwU3RhcnQiLCJ0dHNTdGFydCIsInRyaW0iLCJlbGVtIiwiY3JlYXRlRWxlbWVudCIsImlubmVySFRNTCIsInZhbHVlIiwic2V0U2NvcmVkUmVzdWx0IiwicmVzdWx0IiwicmVzcG9uc2UiLCJnZXR4QVBJUmVzcG9uc2UiLCJ1c2Vyc0Fuc3dlcnMiLCJnZXRDdXJyZW50U3RhdGUiLCJqb2luIiwibWF4U2NvcmUiLCJzY29yZSIsInNjb3JlVGV4dCIsImRldGVybWluZU92ZXJhbGxGZWVkYmFjayIsInNldEZlZWRiYWNrIiwicmVtb3ZlRmVlZGJhY2siLCJnZXRUaXRsZSIsImNyZWF0ZVRpdGxlIiwibWV0YWRhdGEiLCJmb3JFYWNoIiwic2V0VXNlcklucHV0IiwicmVzZXRBcmlhTGFiZWwiLCJnZXRBbnN3ZXJHaXZlbiIsInNldEZvY3VzIiwiY2xvemVzQ29udGVudCIsImdldFVzZXJJbnB1dCIsImlzVmFsaWRTdGF0ZSIsImhhc0FsbENsb3plc0ZpbGxlZCIsImNjSW5kZXgiLCJqUXVlcnkiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0FBLEdBQUcsQ0FBQ0MsTUFBSixHQUFjLFVBQVVDLENBQVYsRUFBYUMsUUFBYixFQUF1QjtBQUNuQzs7OztBQUlBLE1BQUlDLGFBQWEsR0FBRyxTQUFwQjtBQUNBLE1BQUlDLGNBQWMsR0FBRyxVQUFyQjtBQUNBLE1BQUlDLHNCQUFzQixHQUFHLGtCQUE3QjtBQUNBLE1BQUlDLGNBQWMsR0FBRyxVQUFyQjtBQUVBLE1BQU1DLDBCQUEwQixHQUFHLG9DQUFuQztBQUNBLE1BQU1DLHFCQUFxQixHQUFHLHdDQUE5QjtBQUNBLE1BQU1DLGdDQUFnQyxHQUFHLDZDQUF6QztBQUVBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFxQkE7Ozs7Ozs7Ozs7QUFTQSxXQUFTVCxNQUFULENBQWdCVSxNQUFoQixFQUF3QkMsRUFBeEIsRUFBNEJDLFdBQTVCLEVBQXlDO0FBQ3ZDLFFBQUlDLElBQUksR0FBRyxJQUFYLENBRHVDLENBR3ZDOztBQUNBWCxZQUFRLENBQUNZLElBQVQsQ0FBY0QsSUFBZCxFQUFvQixRQUFwQixFQUp1QyxDQU12Qzs7QUFDQSxTQUFLRSxTQUFMLEdBQWlCSixFQUFqQjtBQUNBLFNBQUtDLFdBQUwsR0FBbUJBLFdBQW5CO0FBRUEsU0FBS0YsTUFBTCxHQUFjVCxDQUFDLENBQUNlLE1BQUYsQ0FBUyxJQUFULEVBQWUsRUFBZixFQUFtQjtBQUMvQkMsVUFBSSxFQUFFLFNBRHlCO0FBRS9CQyxlQUFTLEVBQUUsQ0FDVCxrQ0FEUyxDQUZvQjtBQUsvQkMscUJBQWUsRUFBRSxFQUxjO0FBTS9CQyxpQkFBVyxFQUFFLEVBTmtCO0FBTWQ7QUFDakJDLG1CQUFhLEVBQUUsZUFQZ0I7QUFRL0JDLGNBQVEsRUFBRSxXQVJxQjtBQVMvQkMsaUJBQVcsRUFBRSxPQVRrQjtBQVUvQkMsa0JBQVksRUFBRSxlQVZpQjtBQVcvQkMsa0JBQVksRUFBRSw0Q0FYaUI7QUFZL0JDLHFCQUFlLEVBQUUsbUJBWmM7QUFhL0JDLG1CQUFhLEVBQUUsaUJBYmdCO0FBYy9CQyx1QkFBaUIsRUFBRSxvQkFkWTtBQWUvQkMseUJBQW1CLEVBQUUsc0JBZlU7QUFnQi9CQyxtQkFBYSxFQUFFLGlCQWhCZ0I7QUFpQi9CQyxnQkFBVSxFQUFFLDRCQWpCbUI7QUFrQi9CQyxzQkFBZ0IsRUFBRSxlQWxCYTtBQW1CL0JDLGNBQVEsRUFBRSxLQW5CcUI7QUFvQi9CQyxtQkFBYSxFQUFFLG1DQXBCZ0I7QUFxQi9CQyxlQUFTLEVBQUU7QUFDVEMsbUJBQVcsRUFBRSxJQURKO0FBRVRDLDZCQUFxQixFQUFFLElBRmQ7QUFHVEMseUJBQWlCLEVBQUUsS0FIVjtBQUlUQyxxQkFBYSxFQUFFLElBSk47QUFLVEMsa0NBQTBCLEVBQUUsSUFMbkI7QUFNVEMsaUJBQVMsRUFBRSxLQU5GO0FBT1RDLHFCQUFhLEVBQUUsS0FQTjtBQVFUQywyQkFBbUIsRUFBRTtBQVJaO0FBckJvQixLQUFuQixFQStCWGpDLE1BL0JXLENBQWQsQ0FWdUMsQ0EyQ3ZDOztBQUNBLFFBQUdHLElBQUksQ0FBQ0gsTUFBTCxDQUFZeUIsU0FBWixDQUFzQlMsY0FBekIsRUFBeUM7QUFDdkMvQixVQUFJLENBQUNILE1BQUwsQ0FBWXlCLFNBQVosQ0FBc0JDLFdBQXRCLEdBQW9DLEtBQXBDO0FBQ0F2QixVQUFJLENBQUNILE1BQUwsQ0FBWXlCLFNBQVosQ0FBc0JFLHFCQUF0QixHQUE4QyxLQUE5QztBQUNBeEIsVUFBSSxDQUFDSCxNQUFMLENBQVl5QixTQUFaLENBQXNCRyxpQkFBdEIsR0FBMEMsS0FBMUM7QUFDQXpCLFVBQUksQ0FBQ0gsTUFBTCxDQUFZeUIsU0FBWixDQUFzQk0sU0FBdEIsR0FBa0MsS0FBbEM7QUFDRCxLQWpEc0MsQ0FtRHZDOzs7QUFDQSxTQUFLLElBQUlJLENBQUMsR0FBRyxLQUFLbkMsTUFBTCxDQUFZUSxTQUFaLENBQXNCNEIsTUFBdEIsR0FBK0IsQ0FBNUMsRUFBK0NELENBQUMsSUFBSSxDQUFwRCxFQUF1REEsQ0FBQyxFQUF4RCxFQUE0RDtBQUMxRCxVQUFJLENBQUMsS0FBS25DLE1BQUwsQ0FBWVEsU0FBWixDQUFzQjJCLENBQXRCLENBQUwsRUFBK0I7QUFDN0IsYUFBS25DLE1BQUwsQ0FBWVEsU0FBWixDQUFzQjZCLE1BQXRCLENBQTZCRixDQUE3QixFQUFnQyxDQUFoQztBQUNEO0FBQ0YsS0F4RHNDLENBMER2Qzs7O0FBQ0EsU0FBS2pDLFdBQUwsR0FBbUJBLFdBQW5COztBQUNBLFFBQUksS0FBS0EsV0FBTCxLQUFxQm9DLFNBQXJCLElBQWtDLEtBQUtwQyxXQUFMLENBQWlCcUMsYUFBakIsS0FBbUNELFNBQXpFLEVBQW9GO0FBQ2xGLFdBQUtDLGFBQUwsR0FBcUIsS0FBS3JDLFdBQUwsQ0FBaUJxQyxhQUF0QztBQUNELEtBOURzQyxDQWdFdkM7OztBQUNBLFNBQUtDLE1BQUwsR0FBYyxFQUFkLENBakV1QyxDQW1FdkM7O0FBQ0EsU0FBS0MsWUFBTCxHQUFvQixLQUFwQjtBQUVBcEQsT0FBRyxDQUFDcUQsS0FBSixDQUFVQyxPQUFWLENBQWtCLFVBQVVDLEtBQVYsRUFBaUI7QUFDakMsVUFBSUEsS0FBSyxDQUFDQyxPQUFOLEtBQWtCLEVBQXRCLEVBQTBCO0FBQ3hCMUMsWUFBSSxDQUFDc0MsWUFBTCxHQUFvQixJQUFwQjtBQUNEO0FBQ0YsS0FKRCxFQUlHSyxLQUpILENBSVMsVUFBVUYsS0FBVixFQUFpQjtBQUN4QixVQUFJQSxLQUFLLENBQUNDLE9BQU4sS0FBa0IsRUFBdEIsRUFBMEI7QUFDeEIxQyxZQUFJLENBQUNzQyxZQUFMLEdBQW9CLEtBQXBCO0FBQ0Q7QUFDRixLQVJEO0FBU0QsR0EzSGtDLENBNkhuQzs7O0FBQ0FuRCxRQUFNLENBQUN5RCxTQUFQLEdBQW1CQyxNQUFNLENBQUNDLE1BQVAsQ0FBY3pELFFBQVEsQ0FBQ3VELFNBQXZCLENBQW5CO0FBQ0F6RCxRQUFNLENBQUN5RCxTQUFQLENBQWlCRyxXQUFqQixHQUErQjVELE1BQS9CO0FBRUE7Ozs7O0FBSUFBLFFBQU0sQ0FBQ3lELFNBQVAsQ0FBaUJJLG1CQUFqQixHQUF1QyxZQUFZO0FBQ2pELFFBQUloRCxJQUFJLEdBQUcsSUFBWCxDQURpRCxDQUdqRDs7QUFDQSxRQUFJaUQsS0FBSyxHQUFHakQsSUFBSSxDQUFDSCxNQUFMLENBQVlvRCxLQUF4Qjs7QUFDQSxRQUFJQSxLQUFLLElBQUlBLEtBQUssQ0FBQ0MsT0FBbkIsRUFBNEI7QUFDMUIsVUFBSUMsSUFBSSxHQUFHRixLQUFLLENBQUNDLE9BQU4sQ0FBY0UsS0FBZCxDQUFvQixHQUFwQixFQUF5QixDQUF6QixDQUFYOztBQUNBLFVBQUlELElBQUksS0FBSyxXQUFiLEVBQTBCO0FBQ3hCLFlBQUlGLEtBQUssQ0FBQ3BELE1BQU4sQ0FBYXdELElBQWpCLEVBQXVCO0FBQ3JCO0FBQ0FyRCxjQUFJLENBQUNzRCxRQUFMLENBQWNMLEtBQUssQ0FBQ3BELE1BQU4sQ0FBYXdELElBQWIsQ0FBa0JFLElBQWhDLEVBQXNDO0FBQ3BDekIsK0JBQW1CLEVBQUU5QixJQUFJLENBQUNILE1BQUwsQ0FBWXlCLFNBQVosQ0FBc0JRLG1CQURQO0FBRXBDMEIsZUFBRyxFQUFFUCxLQUFLLENBQUNwRCxNQUFOLENBQWEyRCxHQUZrQjtBQUdwQ0MsaUJBQUssRUFBRVIsS0FBSyxDQUFDcEQsTUFBTixDQUFhNEQ7QUFIZ0IsV0FBdEM7QUFLRDtBQUNGLE9BVEQsTUFVSyxJQUFJTixJQUFJLEtBQUssV0FBYixFQUEwQjtBQUM3QixZQUFJRixLQUFLLENBQUNwRCxNQUFOLENBQWE2RCxPQUFqQixFQUEwQjtBQUN4QjtBQUNBMUQsY0FBSSxDQUFDMkQsUUFBTCxDQUFjVixLQUFkO0FBQ0Q7QUFDRjtBQUNGLEtBdkJnRCxDQXlCakQ7OztBQUNBakQsUUFBSSxDQUFDNEQsZUFBTCxDQUFxQjVELElBQUksQ0FBQ0gsTUFBTCxDQUFZTyxJQUFqQyxFQTFCaUQsQ0E0QmpEOztBQUNBSixRQUFJLENBQUM2RCxVQUFMLENBQWdCN0QsSUFBSSxDQUFDOEQsZUFBTCxFQUFoQixFQUF3QztBQUN0QyxlQUFTOUQsSUFBSSxDQUFDSCxNQUFMLENBQVl5QixTQUFaLENBQXNCTyxhQUF0QixHQUFzQyxvQkFBdEMsR0FBNkQ7QUFEaEMsS0FBeEMsRUE3QmlELENBaUNqRDs7QUFDQTdCLFFBQUksQ0FBQytELGVBQUwsR0FsQ2lELENBb0NqRDs7QUFDQS9ELFFBQUksQ0FBQ2dFLGVBQUw7QUFDRCxHQXRDRDtBQXdDQTs7Ozs7QUFHQTdFLFFBQU0sQ0FBQ3lELFNBQVAsQ0FBaUJtQixlQUFqQixHQUFtQyxZQUFZO0FBQzdDLFFBQUkvRCxJQUFJLEdBQUcsSUFBWDtBQUNBLFFBQUlpRSxRQUFRLEdBQUc3RSxDQUFDLENBQUMsdUJBQXVCWSxJQUFJLENBQUNFLFNBQTVCLEdBQXdDLGdCQUF6QyxDQUFoQjtBQUNBLFFBQUlnRSxpQkFBaUIsR0FBR0QsUUFBUSxDQUFDRSxPQUFULENBQWlCLGdCQUFqQixDQUF4QixDQUg2QyxDQUs3Qzs7QUFDQSxRQUFJQyxVQUFKOztBQUNBLFFBQUdGLGlCQUFpQixDQUFDakMsTUFBbEIsS0FBNkIsQ0FBaEMsRUFBbUM7QUFDakM7QUFDQW1DLGdCQUFVLEdBQUdGLGlCQUFpQixDQUFDRyxJQUFsQixFQUFiO0FBQ0QsS0FIRCxNQUlLLElBQUdKLFFBQVEsQ0FBQ2hDLE1BQVQsS0FBb0IsQ0FBdkIsRUFBeUI7QUFDNUJtQyxnQkFBVSxHQUFHSCxRQUFiO0FBQ0QsS0FGSSxNQUdDO0FBQ0pHLGdCQUFVLEdBQUdoRixDQUFDLENBQUNrRixRQUFRLENBQUNDLElBQVYsQ0FBZDtBQUNEOztBQUVELFFBQUksQ0FBQ3ZFLElBQUksQ0FBQ0gsTUFBTCxDQUFZeUIsU0FBWixDQUFzQk0sU0FBdkIsSUFBb0MsS0FBSy9CLE1BQUwsQ0FBWXlCLFNBQVosQ0FBc0JHLGlCQUE5RCxFQUFpRjtBQUMvRTtBQUNBekIsVUFBSSxDQUFDd0UsU0FBTCxDQUFlLGNBQWYsRUFBK0J4RSxJQUFJLENBQUNILE1BQUwsQ0FBWWEsV0FBM0MsRUFBd0QsWUFBWTtBQUNsRVYsWUFBSSxDQUFDeUUsc0JBQUwsQ0FBNEJsRixjQUE1QjtBQUNBUyxZQUFJLENBQUMwRSxXQUFMO0FBQ0ExRSxZQUFJLENBQUMyRSxjQUFMO0FBQ0EzRSxZQUFJLENBQUM0RSxlQUFMO0FBQ0QsT0FMRCxFQUtHLElBTEgsRUFLUyxFQUxULEVBS2E7QUFDWEMsMEJBQWtCLEVBQUU7QUFDbEJDLGdCQUFNLEVBQUU5RSxJQUFJLENBQUNILE1BQUwsQ0FBWXlCLFNBQVosQ0FBc0J5RCxrQkFEWjtBQUVsQkMsY0FBSSxFQUFFaEYsSUFBSSxDQUFDSCxNQUFMLENBQVlvRixZQUZBO0FBR2xCQyxrQkFBUSxFQUFFbEYsSUFIUTtBQUlsQm1GLHdCQUFjLEVBQUVmO0FBSkU7QUFEVCxPQUxiO0FBYUQsS0FqQzRDLENBbUM3Qzs7O0FBQ0FwRSxRQUFJLENBQUN3RSxTQUFMLENBQWUsZUFBZixFQUFnQ3hFLElBQUksQ0FBQ0gsTUFBTCxDQUFZVyxhQUE1QyxFQUEyRCxZQUFZO0FBQ3JFUixVQUFJLENBQUNvRixrQkFBTCxDQUF3QixLQUF4QjtBQUNELEtBRkQsRUFFR3BGLElBQUksQ0FBQ0gsTUFBTCxDQUFZeUIsU0FBWixDQUFzQkUscUJBRnpCLEVBcEM2QyxDQXdDN0M7O0FBQ0EsUUFBSXhCLElBQUksQ0FBQ0gsTUFBTCxDQUFZeUIsU0FBWixDQUFzQkMsV0FBdEIsS0FBc0MsSUFBMUMsRUFBZ0Q7QUFDOUN2QixVQUFJLENBQUN3RSxTQUFMLENBQWUsV0FBZixFQUE0QnhFLElBQUksQ0FBQ0gsTUFBTCxDQUFZWSxRQUF4QyxFQUFrRCxZQUFZO0FBQzVEVCxZQUFJLENBQUNxRixTQUFMO0FBQ0FyRixZQUFJLENBQUNzRixVQUFMLENBQWdCQyxNQUFoQixDQUF1QixRQUF2QixFQUFpQ0MsSUFBakMsQ0FBc0MsYUFBdEMsRUFBcURDLEtBQXJEO0FBQ0QsT0FIRCxFQUdHLElBSEgsRUFHUyxFQUhULEVBR2E7QUFDWFosMEJBQWtCLEVBQUU7QUFDbEJDLGdCQUFNLEVBQUU5RSxJQUFJLENBQUNILE1BQUwsQ0FBWXlCLFNBQVosQ0FBc0JvRSxrQkFEWjtBQUVsQlYsY0FBSSxFQUFFaEYsSUFBSSxDQUFDSCxNQUFMLENBQVk4RixZQUZBO0FBR2xCVCxrQkFBUSxFQUFFbEYsSUFIUTtBQUlsQm1GLHdCQUFjLEVBQUVmO0FBSkU7QUFEVCxPQUhiO0FBV0QsS0FyRDRDLENBdUQ3Qzs7O0FBQ0EsUUFBR3BFLElBQUksQ0FBQ0gsTUFBTCxDQUFZeUIsU0FBWixDQUFzQnNFLGdCQUF6QixFQUEyQztBQUN6QzVGLFVBQUksQ0FBQ3dFLFNBQUwsQ0FBZSxLQUFLM0UsTUFBTCxDQUFZZ0csR0FBM0IsRUFBZ0MsS0FBaEM7QUFDRDs7QUFFRDdGLFFBQUksQ0FBQ3lFLHNCQUFMLENBQTRCbkYsYUFBNUI7QUFDRCxHQTdERDtBQStEQTs7Ozs7Ozs7Ozs7O0FBVUFILFFBQU0sQ0FBQ3lELFNBQVAsQ0FBaUJrRCxZQUFqQixHQUFnQyxVQUFVQyxRQUFWLEVBQW9CQyxPQUFwQixFQUE2QjtBQUMzRDtBQUNBLFFBQUlDLFFBQUo7QUFBQSxRQUFjQyxVQUFVLEdBQUdILFFBQVEsQ0FBQ0ksT0FBVCxDQUFpQixHQUFqQixDQUEzQjtBQUNBLFFBQUluRyxJQUFJLEdBQUcsSUFBWDs7QUFDQSxXQUFPa0csVUFBVSxLQUFLLENBQUMsQ0FBaEIsSUFBcUJELFFBQVEsS0FBSyxDQUFDLENBQTFDLEVBQTZDO0FBQzNDQyxnQkFBVTtBQUNWRCxjQUFRLEdBQUdGLFFBQVEsQ0FBQ0ksT0FBVCxDQUFpQixHQUFqQixFQUFzQkQsVUFBdEIsQ0FBWDs7QUFDQSxVQUFJRCxRQUFRLEtBQUssQ0FBQyxDQUFsQixFQUFxQjtBQUNuQixpQkFEbUIsQ0FDVDtBQUNYOztBQUNELFVBQUlHLFlBQVksR0FBR0wsUUFBUSxDQUFDTSxTQUFULENBQW1CSCxVQUFuQixFQUErQkQsUUFBL0IsQ0FBbkI7QUFDQSxVQUFJSyxRQUFRLEdBQUcsRUFBZjs7QUFDQSxVQUFJRixZQUFZLENBQUNuRSxNQUFqQixFQUF5QjtBQUN2QnFFLGdCQUFRLEdBQUdOLE9BQU8sQ0FBQ2hHLElBQUksQ0FBQ3VHLGFBQUwsQ0FBbUJILFlBQW5CLENBQUQsQ0FBbEI7QUFDQUgsZ0JBQVE7QUFDVCxPQUhELE1BSUs7QUFDSEMsa0JBQVUsSUFBSSxDQUFkO0FBQ0Q7O0FBQ0RILGNBQVEsR0FBR0EsUUFBUSxDQUFDUyxLQUFULENBQWUsQ0FBZixFQUFrQk4sVUFBVSxHQUFHLENBQS9CLElBQW9DSSxRQUFwQyxHQUErQ1AsUUFBUSxDQUFDUyxLQUFULENBQWVQLFFBQWYsQ0FBMUQ7QUFDQUEsY0FBUSxJQUFJQSxRQUFRLEdBQUdDLFVBQVgsR0FBd0JJLFFBQVEsQ0FBQ3JFLE1BQTdDLENBaEIyQyxDQWtCM0M7O0FBQ0FpRSxnQkFBVSxHQUFHSCxRQUFRLENBQUNJLE9BQVQsQ0FBaUIsR0FBakIsRUFBc0JGLFFBQXRCLENBQWI7QUFDRDs7QUFDRCxXQUFPRixRQUFQO0FBQ0QsR0ExQkQ7QUE0QkE7Ozs7O0FBR0E1RyxRQUFNLENBQUN5RCxTQUFQLENBQWlCa0IsZUFBakIsR0FBbUMsWUFBWTtBQUM3QyxRQUFJOUQsSUFBSSxHQUFHLElBQVg7QUFFQSxRQUFJeUcsSUFBSSxHQUFHLEVBQVg7QUFDQSxRQUFJQyxXQUFXLEdBQUcsQ0FBbEI7O0FBQ0EsU0FBSyxJQUFJMUUsQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBR2hDLElBQUksQ0FBQ0gsTUFBTCxDQUFZUSxTQUFaLENBQXNCNEIsTUFBMUMsRUFBa0RELENBQUMsRUFBbkQsRUFBdUQ7QUFDckQsVUFBSStELFFBQVEsR0FBRy9GLElBQUksQ0FBQ0gsTUFBTCxDQUFZUSxTQUFaLENBQXNCMkIsQ0FBdEIsQ0FBZixDQURxRCxDQUdyRDs7QUFDQStELGNBQVEsR0FBRy9GLElBQUksQ0FBQzhGLFlBQUwsQ0FBa0JDLFFBQWxCLEVBQTRCLFVBQVVZLFFBQVYsRUFBb0I7QUFDekQ7QUFDQUQsbUJBQVcsSUFBSSxDQUFmO0FBQ0EsWUFBSUUsaUJBQWlCLEdBQUk1RyxJQUFJLENBQUNILE1BQUwsQ0FBWVUsV0FBWixDQUF3QjBCLE1BQXhCLEdBQWlDakMsSUFBSSxDQUFDcUMsTUFBTCxDQUFZSixNQUE3QyxHQUFzRGpDLElBQUksQ0FBQ0gsTUFBTCxDQUFZVSxXQUFaLENBQXdCUCxJQUFJLENBQUNxQyxNQUFMLENBQVlKLE1BQXBDLENBQXRELEdBQW9HLElBQTdIO0FBQ0EsWUFBSTRFLEtBQUssR0FBRyxJQUFJMUgsTUFBTSxDQUFDMkgsS0FBWCxDQUFpQkgsUUFBakIsRUFBMkIzRyxJQUFJLENBQUNILE1BQUwsQ0FBWXlCLFNBQXZDLEVBQWtEc0YsaUJBQWxELEVBQXFFRCxRQUFRLENBQUNJLEtBQTlFLEVBQXFGO0FBQy9GaEcsMkJBQWlCLEVBQUVmLElBQUksQ0FBQ0gsTUFBTCxDQUFZa0IsaUJBRGdFO0FBRS9GQyw2QkFBbUIsRUFBRWhCLElBQUksQ0FBQ0gsTUFBTCxDQUFZbUIsbUJBRjhEO0FBRy9GQyx1QkFBYSxFQUFFakIsSUFBSSxDQUFDSCxNQUFMLENBQVlvQixhQUhvRTtBQUkvRkMsb0JBQVUsRUFBRWxCLElBQUksQ0FBQ0gsTUFBTCxDQUFZcUIsVUFKdUU7QUFLL0ZDLDBCQUFnQixFQUFFbkIsSUFBSSxDQUFDSCxNQUFMLENBQVlzQixnQkFMaUU7QUFNL0ZDLGtCQUFRLEVBQUVwQixJQUFJLENBQUNILE1BQUwsQ0FBWXVCO0FBTnlFLFNBQXJGLENBQVo7QUFTQXBCLFlBQUksQ0FBQ3FDLE1BQUwsQ0FBWTJFLElBQVosQ0FBaUJILEtBQWpCO0FBQ0EsZUFBT0EsS0FBUDtBQUNELE9BZlUsQ0FBWDtBQWlCQUosVUFBSSxJQUFJLFVBQVVWLFFBQVYsR0FBcUIsUUFBN0I7QUFDRDs7QUFFRC9GLFFBQUksQ0FBQ2lILFNBQUwsR0FBaUJQLFdBQVcsR0FBRyxDQUEvQjtBQUNBLFNBQUtwQixVQUFMLEdBQWtCbEcsQ0FBQyxDQUFDcUgsSUFBRCxDQUFuQjtBQUVBLFNBQUtuQixVQUFMLENBQWdCRSxJQUFoQixDQUFxQixvQkFBckIsRUFBMkMwQixJQUEzQyxDQUFnRCxVQUFVbEYsQ0FBVixFQUFhO0FBQzNENUMsT0FBQyxDQUFDLElBQUQsQ0FBRCxDQUFRK0gsRUFBUixDQUFXLE9BQVgsRUFBb0IsWUFBVTtBQUFDbkgsWUFBSSxDQUFDb0gsb0JBQUwsQ0FBMEIsSUFBMUI7QUFBZ0MsT0FBL0Q7QUFDRCxLQUZELEVBaEM2QyxDQW9DN0M7O0FBQ0EsU0FBSzlCLFVBQUwsQ0FBZ0JFLElBQWhCLENBQXFCLE9BQXJCLEVBQThCMEIsSUFBOUIsQ0FBbUMsVUFBVWxGLENBQVYsRUFBYTtBQUM5QyxVQUFJcUYsVUFBSjs7QUFDQSxVQUFJckgsSUFBSSxDQUFDSCxNQUFMLENBQVl5QixTQUFaLENBQXNCTSxTQUExQixFQUFxQztBQUNuQ3lGLGtCQUFVLEdBQUcsc0JBQVk7QUFDdkIsY0FBSUMsTUFBTSxHQUFHbEksQ0FBQyxDQUFDLE9BQUQsQ0FBRCxDQUFXZ0IsSUFBWCxDQUFnQixLQUFLbUgsYUFBTCxFQUFoQixFQUFzQ2QsSUFBdEMsRUFBYjtBQUNBekcsY0FBSSxDQUFDd0gsSUFBTCxDQUFVLENBQUMsS0FBS0MsT0FBTCxLQUFpQnpILElBQUksQ0FBQ0gsTUFBTCxDQUFZZ0IsZUFBN0IsR0FBK0NiLElBQUksQ0FBQ0gsTUFBTCxDQUFZaUIsYUFBNUQsRUFBMkU0RyxPQUEzRSxDQUFtRixNQUFuRixFQUEyRkosTUFBM0YsQ0FBVjs7QUFDQSxjQUFJdEgsSUFBSSxDQUFDMkgsSUFBTCxJQUFhM0gsSUFBSSxDQUFDNEgsa0JBQUwsRUFBakIsRUFBNEM7QUFDMUM7QUFDQTVILGdCQUFJLENBQUN5RSxzQkFBTCxDQUE0QmxGLGNBQTVCO0FBQ0FTLGdCQUFJLENBQUMyRSxjQUFMO0FBQ0EzRSxnQkFBSSxDQUFDNEUsZUFBTDtBQUNBNUUsZ0JBQUksQ0FBQzJILElBQUwsR0FBWSxJQUFaO0FBQ0Q7QUFDRixTQVZEO0FBV0Q7O0FBQ0QzSCxVQUFJLENBQUNxQyxNQUFMLENBQVlMLENBQVosRUFBZTZGLFFBQWYsQ0FBd0J6SSxDQUFDLENBQUMsSUFBRCxDQUF6QixFQUFpQ2lJLFVBQWpDLEVBQTZDLFlBQVk7QUFDdkRySCxZQUFJLENBQUN5RSxzQkFBTCxDQUE0Qm5GLGFBQTVCOztBQUNBLFlBQUksQ0FBQ1UsSUFBSSxDQUFDSCxNQUFMLENBQVl5QixTQUFaLENBQXNCTSxTQUEzQixFQUFzQztBQUNwQzVCLGNBQUksQ0FBQzhILGNBQUw7QUFDRDtBQUNGLE9BTEQsRUFLRzlGLENBTEgsRUFLTWhDLElBQUksQ0FBQ3FDLE1BQUwsQ0FBWUosTUFMbEI7QUFNRCxLQXJCRCxFQXFCR08sT0FyQkgsQ0FxQlcsVUFBVUMsS0FBVixFQUFpQjtBQUMxQixVQUFJc0YsS0FBSyxHQUFHM0ksQ0FBQyxDQUFDLElBQUQsQ0FBYixDQUQwQixDQUcxQjs7QUFDQVksVUFBSSxDQUFDZ0ksaUJBQUwsQ0FBdUJELEtBQXZCO0FBRUEsVUFBSUUsT0FBSixFQUFhQyxXQUFiO0FBQ0EsVUFBSUMsWUFBWSxHQUFJMUYsS0FBSyxDQUFDQyxPQUFOLEtBQWtCLEVBQXRDO0FBQ0EsVUFBSTBGLG1CQUFtQixHQUFJM0YsS0FBSyxDQUFDQyxPQUFOLEtBQWtCLENBQWxCLElBQXVCMUMsSUFBSSxDQUFDSCxNQUFMLENBQVl5QixTQUFaLENBQXNCTSxTQUF4RTs7QUFFQSxVQUFJdUcsWUFBWSxJQUFJQyxtQkFBcEIsRUFBeUM7QUFDdkM7QUFDQUgsZUFBTyxHQUFHakksSUFBSSxDQUFDc0YsVUFBTCxDQUFnQkUsSUFBaEIsQ0FBcUIsc0RBQXJCLENBQVYsQ0FGdUMsQ0FJdkM7O0FBQ0EwQyxtQkFBVyxHQUFHSCxLQUFLLENBQUNNLEVBQU4sQ0FBU0osT0FBTyxDQUFDQSxPQUFPLENBQUNoRyxNQUFSLEdBQWlCLENBQWxCLENBQWhCLENBQWQ7QUFDRDs7QUFFRCxVQUFLbUcsbUJBQW1CLElBQUlGLFdBQXZCLElBQXNDLENBQUNsSSxJQUFJLENBQUNzQyxZQUE3QyxJQUNDNkYsWUFBWSxJQUFJRCxXQURyQixFQUNtQztBQUNqQztBQUNBSSxrQkFBVSxDQUFDLFlBQVk7QUFDckJ0SSxjQUFJLENBQUN1SSxXQUFMO0FBQ0QsU0FGUyxFQUVQLEVBRk8sQ0FBVjtBQUdEOztBQUVELFVBQUlKLFlBQUosRUFBa0I7QUFDaEIsWUFBSUQsV0FBSixFQUFpQjtBQUNmO0FBQ0FILGVBQUssQ0FBQ1MsT0FBTixDQUFjLE1BQWQ7QUFDRCxTQUhELE1BSUs7QUFDSDtBQUNBUCxpQkFBTyxDQUFDUSxFQUFSLENBQVdSLE9BQU8sQ0FBQ1MsS0FBUixDQUFjWCxLQUFkLElBQXVCLENBQWxDLEVBQXFDdEMsS0FBckM7QUFDRDs7QUFFRCxlQUFPLEtBQVAsQ0FWZ0IsQ0FVRjtBQUNmO0FBQ0YsS0EzREQsRUEyREcwQixFQTNESCxDQTJETSxRQTNETixFQTJEZ0IsWUFBWTtBQUMxQm5ILFVBQUksQ0FBQzJJLFFBQUwsR0FBZ0IsSUFBaEI7QUFDQTNJLFVBQUksQ0FBQzRJLFdBQUwsQ0FBaUIsWUFBakI7QUFDRCxLQTlERDtBQWdFQTVJLFFBQUksQ0FBQ21ILEVBQUwsQ0FBUSxRQUFSLEVBQWtCLFlBQVk7QUFDNUJuSCxVQUFJLENBQUM2SSxrQkFBTDtBQUNELEtBRkQ7QUFJQSxXQUFPLEtBQUt2RCxVQUFaO0FBQ0QsR0ExR0Q7QUE0R0E7Ozs7O0FBR0FuRyxRQUFNLENBQUN5RCxTQUFQLENBQWlCb0YsaUJBQWpCLEdBQXFDLFVBQVVjLE1BQVYsRUFBa0I7QUFDckQ7QUFDQSxRQUFJLEtBQUtqSixNQUFMLENBQVl5QixTQUFaLENBQXNCTyxhQUExQixFQUF5QztBQUN2QztBQUNEOztBQUVELFFBQUk3QixJQUFJLEdBQUcsSUFBWDtBQUNBLFFBQUkrSSxRQUFRLEdBQUdDLFFBQVEsQ0FBQ0YsTUFBTSxDQUFDRyxHQUFQLENBQVcsV0FBWCxDQUFELEVBQTBCLEVBQTFCLENBQXZCO0FBQ0EsUUFBSUMsS0FBSyxHQUFHLENBQVo7QUFDQSxRQUFJQyxLQUFLLEdBQUdKLFFBQVEsR0FBR0csS0FBdkI7QUFDQSxRQUFJRSxVQUFVLEdBQUcsSUFBakI7QUFDQSxRQUFJQyxVQUFVLEdBQUdOLFFBQVEsR0FBR0ssVUFBNUI7QUFDQSxRQUFJRSxjQUFjLEdBQUcsTUFBTVAsUUFBM0I7QUFFQVQsY0FBVSxDQUFDLFlBQVU7QUFDbkIsVUFBSWlCLEdBQUcsR0FBR25LLENBQUMsQ0FBQyxPQUFELEVBQVU7QUFDbkIsZ0JBQVEwSixNQUFNLENBQUNVLEdBQVA7QUFEVyxPQUFWLENBQVg7QUFHQUQsU0FBRyxDQUFDTixHQUFKLENBQVE7QUFDTixvQkFBWSxVQUROO0FBRU4sdUJBQWUsUUFGVDtBQUdOLHFCQUFhSCxNQUFNLENBQUNHLEdBQVAsQ0FBVyxXQUFYLENBSFA7QUFJTix1QkFBZUgsTUFBTSxDQUFDRyxHQUFQLENBQVcsYUFBWCxDQUpUO0FBS04sbUJBQVdILE1BQU0sQ0FBQ0csR0FBUCxDQUFXLFNBQVgsQ0FMTDtBQU1OLGlCQUFTO0FBTkgsT0FBUjtBQVFBSCxZQUFNLENBQUNXLE1BQVAsR0FBZ0JDLE1BQWhCLENBQXVCSCxHQUF2QjtBQUNBLFVBQUlJLEtBQUssR0FBR0osR0FBRyxDQUFDSSxLQUFKLEVBQVo7QUFDQSxVQUFJQyxXQUFXLEdBQUc1SixJQUFJLENBQUNzRixVQUFMLENBQWdCcUUsS0FBaEIsRUFBbEI7QUFDQUosU0FBRyxDQUFDTSxNQUFKOztBQUNBLFVBQUlGLEtBQUssSUFBSVIsS0FBYixFQUFvQjtBQUNsQjtBQUNBTCxjQUFNLENBQUNhLEtBQVAsQ0FBYVIsS0FBSyxHQUFHRyxjQUFyQjtBQUNELE9BSEQsTUFJSyxJQUFJSyxLQUFLLEdBQUdOLFVBQVIsSUFBc0JPLFdBQTFCLEVBQXVDO0FBQzFDO0FBQ0FkLGNBQU0sQ0FBQ2EsS0FBUCxDQUFhQyxXQUFXLEdBQUdQLFVBQTNCO0FBQ0QsT0FISSxNQUlBO0FBQ0g7QUFDQVAsY0FBTSxDQUFDYSxLQUFQLENBQWFBLEtBQUssR0FBR0wsY0FBckI7QUFDRDtBQUNGLEtBNUJTLEVBNEJQLENBNUJPLENBQVY7QUE2QkQsR0EzQ0Q7QUE2Q0E7Ozs7O0FBR0FuSyxRQUFNLENBQUN5RCxTQUFQLENBQWlCaUcsa0JBQWpCLEdBQXNDLFlBQVk7QUFDaEQsUUFBSTdJLElBQUksR0FBRyxJQUFYO0FBRUEsU0FBS3NGLFVBQUwsQ0FBZ0JFLElBQWhCLENBQXFCLE9BQXJCLEVBQThCMEIsSUFBOUIsQ0FBbUMsWUFBWTtBQUM3Q2xILFVBQUksQ0FBQ2dJLGlCQUFMLENBQXVCNUksQ0FBQyxDQUFDLElBQUQsQ0FBeEI7QUFDRCxLQUZEO0FBR0QsR0FORDtBQVFBOzs7Ozs7O0FBS0FELFFBQU0sQ0FBQ3lELFNBQVAsQ0FBaUI2QixzQkFBakIsR0FBMEMsVUFBVXFGLEtBQVYsRUFBaUI7QUFDekQ7QUFDQSxRQUFJQyxVQUFVLEdBQUksS0FBS0MsUUFBTCxPQUFvQixLQUFLQyxXQUFMLEVBQXRDOztBQUNBLFFBQUksS0FBS3BLLE1BQUwsQ0FBWXlCLFNBQVosQ0FBc0JNLFNBQXRCLElBQW1DbUksVUFBdkMsRUFBbUQ7QUFDakQ7QUFDQUQsV0FBSyxHQUFHckssY0FBUjtBQUNEOztBQUVELFFBQUksS0FBS0ksTUFBTCxDQUFZeUIsU0FBWixDQUFzQkUscUJBQTFCLEVBQWlEO0FBQy9DLFVBQUlzSSxLQUFLLEtBQUt2SyxjQUFWLElBQTRCLENBQUN3SyxVQUFqQyxFQUE2QztBQUMzQyxhQUFLRyxVQUFMLENBQWdCLGVBQWhCO0FBQ0QsT0FGRCxNQUdLO0FBQ0gsYUFBS0MsVUFBTCxDQUFnQixlQUFoQjtBQUNEO0FBQ0Y7O0FBRUQsUUFBSSxLQUFLdEssTUFBTCxDQUFZeUIsU0FBWixDQUFzQkMsV0FBMUIsRUFBdUM7QUFDckMsVUFBS3VJLEtBQUssS0FBS3ZLLGNBQVYsSUFBNEIsQ0FBQ3dLLFVBQTlCLElBQTZDRCxLQUFLLEtBQUt0SyxzQkFBM0QsRUFBbUY7QUFDakYsYUFBSzBLLFVBQUwsQ0FBZ0IsV0FBaEI7QUFDRCxPQUZELE1BR0s7QUFDSCxhQUFLQyxVQUFMLENBQWdCLFdBQWhCO0FBQ0Q7QUFDRjs7QUFFRCxRQUFJTCxLQUFLLEtBQUt4SyxhQUFkLEVBQTZCO0FBQzNCLFdBQUs0SyxVQUFMLENBQWdCLGNBQWhCO0FBQ0QsS0FGRCxNQUdLO0FBQ0gsV0FBS0MsVUFBTCxDQUFnQixjQUFoQjtBQUNEOztBQUVELFNBQUszQixPQUFMLENBQWEsUUFBYjtBQUNELEdBbENEO0FBb0NBOzs7OztBQUdBckosUUFBTSxDQUFDeUQsU0FBUCxDQUFpQndILGFBQWpCLEdBQWlDLFlBQVk7QUFDM0MsUUFBSSxLQUFLdkssTUFBTCxDQUFZeUIsU0FBWixDQUFzQkssMEJBQXRCLEtBQXFELElBQXpELEVBQStEO0FBQzdELFVBQUksQ0FBQyxLQUFLaUcsa0JBQUwsRUFBTCxFQUFnQztBQUM5QixhQUFLeUMscUJBQUwsQ0FBMkIsS0FBS3hLLE1BQUwsQ0FBWWUsWUFBdkM7QUFDQSxhQUFLNEcsSUFBTCxDQUFVLEtBQUszSCxNQUFMLENBQVllLFlBQXRCO0FBQ0EsZUFBTyxLQUFQO0FBQ0Q7QUFDRjs7QUFDRCxXQUFPLElBQVA7QUFDRCxHQVREO0FBV0E7Ozs7Ozs7O0FBTUF6QixRQUFNLENBQUN5RCxTQUFQLENBQWlCZ0Ysa0JBQWpCLEdBQXNDLFlBQVk7QUFDaEQsV0FBTyxDQUFDLEtBQUt2RixNQUFMLENBQVlpSSxJQUFaLENBQWlCLFVBQVV6RCxLQUFWLEVBQWlCO0FBQ3hDLGFBQU8sQ0FBQ0EsS0FBSyxDQUFDMEQsU0FBTixFQUFSO0FBQ0QsS0FGTyxDQUFSO0FBR0QsR0FKRDtBQU1BOzs7OztBQUdBcEwsUUFBTSxDQUFDeUQsU0FBUCxDQUFpQjhCLFdBQWpCLEdBQStCLFlBQVk7QUFDekMsUUFBSTFFLElBQUksR0FBRyxJQUFYOztBQUNBLFNBQUssSUFBSWdDLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUdoQyxJQUFJLENBQUNxQyxNQUFMLENBQVlKLE1BQWhDLEVBQXdDRCxDQUFDLEVBQXpDLEVBQTZDO0FBQzNDaEMsVUFBSSxDQUFDcUMsTUFBTCxDQUFZTCxDQUFaLEVBQWV0QixXQUFmOztBQUNBLFVBQUksQ0FBQ1YsSUFBSSxDQUFDSCxNQUFMLENBQVl5QixTQUFaLENBQXNCQyxXQUEzQixFQUF3QztBQUN0Q3ZCLFlBQUksQ0FBQ3FDLE1BQUwsQ0FBWUwsQ0FBWixFQUFld0ksWUFBZjtBQUNEO0FBQ0Y7O0FBQ0QsU0FBS2hDLE9BQUwsQ0FBYSxRQUFiO0FBQ0QsR0FURDtBQVdBOzs7OztBQUdBckosUUFBTSxDQUFDeUQsU0FBUCxDQUFpQjZILG1CQUFqQixHQUF1QyxZQUFZO0FBQ2pELFNBQUtuRixVQUFMLENBQWdCRSxJQUFoQixDQUFxQixvQkFBckIsRUFBMkNrRixXQUEzQyxDQUF1RCx1QkFBdkQ7QUFDQSxTQUFLcEYsVUFBTCxDQUFnQkUsSUFBaEIsQ0FBcUIsNEJBQXJCLEVBQW1EbUYsSUFBbkQsQ0FBd0QsVUFBeEQsRUFBb0UsS0FBcEU7QUFDQSxTQUFLbkMsT0FBTCxDQUFhLFFBQWI7QUFDRCxHQUpEO0FBT0E7Ozs7Ozs7QUFLQXJKLFFBQU0sQ0FBQ3lELFNBQVAsQ0FBaUJ3QyxrQkFBakIsR0FBc0MsVUFBVXdGLGtCQUFWLEVBQThCO0FBQ2xFLFFBQUksQ0FBQ0Esa0JBQUQsSUFBdUIsQ0FBQyxLQUFLUixhQUFMLEVBQTVCLEVBQWtEO0FBQ2hEO0FBQ0Q7O0FBRUQsU0FBSzNGLHNCQUFMLENBQTRCakYsc0JBQTVCO0FBQ0EsU0FBS3FMLGFBQUw7O0FBRUEsU0FBSyxJQUFJN0ksQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBRyxLQUFLSyxNQUFMLENBQVlKLE1BQWhDLEVBQXdDRCxDQUFDLEVBQXpDLEVBQTZDO0FBQzNDLFdBQUtLLE1BQUwsQ0FBWUwsQ0FBWixFQUFlOEksWUFBZjtBQUNEOztBQUNELFNBQUt0QyxPQUFMLENBQWEsUUFBYjtBQUNELEdBWkQ7QUFjQTs7Ozs7Ozs7QUFNQXJKLFFBQU0sQ0FBQ3lELFNBQVAsQ0FBaUJtSSxlQUFqQixHQUFtQyxVQUFVQyxPQUFWLEVBQW1CO0FBQ3BELFNBQUssSUFBSWhKLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUcsS0FBS0ssTUFBTCxDQUFZSixNQUFoQyxFQUF3Q0QsQ0FBQyxFQUF6QyxFQUE2QztBQUMzQyxXQUFLSyxNQUFMLENBQVlMLENBQVosRUFBZWlKLFdBQWYsQ0FBMkJELE9BQTNCO0FBQ0Q7QUFDRixHQUpEO0FBTUE7Ozs7Ozs7QUFLQTdMLFFBQU0sQ0FBQ3lELFNBQVAsQ0FBaUJwQyxhQUFqQixHQUFpQyxZQUFZO0FBQzNDLFNBQUtYLE1BQUwsQ0FBWXlCLFNBQVosQ0FBc0JFLHFCQUF0QixHQUE4QyxJQUE5QztBQUNBLFNBQUtpRCxzQkFBTCxDQUE0QmhGLGNBQTVCO0FBQ0EsU0FBS2lGLFdBQUw7QUFDQSxTQUFLQyxjQUFMO0FBQ0EsU0FBS1Msa0JBQUwsQ0FBd0IsSUFBeEI7QUFDQSxTQUFLMkYsZUFBTCxDQUFxQixLQUFyQixFQU4yQyxDQU8zQzs7QUFDQSxTQUFLRyxXQUFMO0FBQ0QsR0FURDtBQVdBOzs7Ozs7O0FBS0EvTCxRQUFNLENBQUN5RCxTQUFQLENBQWlCeUMsU0FBakIsR0FBNkIsWUFBWTtBQUN2QyxTQUFLc0QsUUFBTCxHQUFnQixLQUFoQjtBQUNBLFNBQUtiLGNBQUw7QUFDQSxTQUFLK0MsYUFBTDtBQUNBLFNBQUtNLFlBQUw7QUFDQSxTQUFLVixtQkFBTDtBQUNBLFNBQUtoRyxzQkFBTCxDQUE0Qm5GLGFBQTVCO0FBQ0EsU0FBS3VKLGtCQUFMO0FBQ0EsU0FBS2tDLGVBQUwsQ0FBcUIsSUFBckI7QUFDQSxTQUFLcEQsSUFBTCxHQUFZLEtBQVo7QUFDRCxHQVZEO0FBWUE7Ozs7OztBQUlBeEksUUFBTSxDQUFDeUQsU0FBUCxDQUFpQnNJLFdBQWpCLEdBQStCLFlBQVk7QUFDekMsU0FBS3pHLHNCQUFMLENBQTRCaEYsY0FBNUI7QUFDRCxHQUZEO0FBSUE7Ozs7O0FBR0FOLFFBQU0sQ0FBQ3lELFNBQVAsQ0FBaUJnQyxlQUFqQixHQUFtQyxZQUFXO0FBQzVDLFNBQUsrRCxRQUFMLEdBQWdCLElBQWhCO0FBQ0EsUUFBSXlDLFNBQVMsR0FBRyxLQUFLQyx1QkFBTCxDQUE2QixVQUE3QixDQUFoQjtBQUNBLFNBQUtDLGlCQUFMLENBQXVCRixTQUF2QjtBQUNBLFNBQUtHLGlCQUFMLENBQXVCSCxTQUF2QjtBQUNBLFNBQUs1QyxPQUFMLENBQWE0QyxTQUFiO0FBQ0QsR0FORDtBQVFBOzs7Ozs7OztBQU1Bak0sUUFBTSxDQUFDeUQsU0FBUCxDQUFpQjRJLFdBQWpCLEdBQStCLFlBQVk7QUFDekMsUUFBSUosU0FBUyxHQUFHLEtBQUtDLHVCQUFMLENBQTZCLFVBQTdCLENBQWhCO0FBQ0EsU0FBS0MsaUJBQUwsQ0FBdUJGLFNBQXZCO0FBQ0EsU0FBS0csaUJBQUwsQ0FBdUJILFNBQXZCO0FBQ0EsV0FBTztBQUNMSyxlQUFTLEVBQUVMLFNBQVMsQ0FBQ00sSUFBVixDQUFlRDtBQURyQixLQUFQO0FBR0QsR0FQRDtBQVNBOzs7Ozs7QUFJQXRNLFFBQU0sQ0FBQ3lELFNBQVAsQ0FBaUIrSSxpQkFBakIsR0FBcUMsWUFBWTtBQUMvQyxRQUFJQyxVQUFVLEdBQUcsRUFBakI7QUFDQUEsY0FBVSxDQUFDQyxXQUFYLEdBQXlCO0FBQ3ZCLGVBQVMsS0FBS2hNLE1BQUwsQ0FBWU87QUFERSxLQUF6QjtBQUdBd0wsY0FBVSxDQUFDekksSUFBWCxHQUFrQixxREFBbEI7QUFDQXlJLGNBQVUsQ0FBQ0UsZUFBWCxHQUE2QixTQUE3QjtBQUVBLFFBQU1DLGNBQWMsR0FBRyxFQUF2QjtBQUNBLFFBQUlDLEdBQUcsR0FBRyxFQUFWLENBVCtDLENBVS9DOztBQUNBLFNBQUssSUFBSWhLLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUcsS0FBS25DLE1BQUwsQ0FBWVEsU0FBWixDQUFzQjRCLE1BQTFDLEVBQWtERCxDQUFDLEVBQW5ELEVBQXVEO0FBQ3JELFVBQUkrRCxRQUFRLEdBQUcsS0FBS0QsWUFBTCxDQUFrQixLQUFLakcsTUFBTCxDQUFZUSxTQUFaLENBQXNCMkIsQ0FBdEIsQ0FBbEIsRUFBNEMsVUFBVTJFLFFBQVYsRUFBb0I7QUFDN0U7QUFDQW9GLHNCQUFjLENBQUMvRSxJQUFmLENBQW9CTCxRQUFRLENBQUNzRixTQUE3QixFQUY2RSxDQUk3RTs7QUFDQUQsV0FBRyxJQUFJLENBQUMsQ0FBQ0EsR0FBRCxHQUFPLEVBQVAsR0FBWSxLQUFiLElBQXNCckYsUUFBUSxDQUFDc0YsU0FBVCxDQUFtQixDQUFuQixDQUE3QixDQUw2RSxDQU83RTs7QUFDQSxlQUFPLFlBQVA7QUFDRCxPQVRjLENBQWY7QUFVQUwsZ0JBQVUsQ0FBQ0MsV0FBWCxDQUF1QixPQUF2QixLQUFtQzlGLFFBQW5DO0FBQ0QsS0F2QjhDLENBeUIvQzs7O0FBQ0E2RixjQUFVLENBQUNNLHVCQUFYLEdBQXFDLENBQ25DLG1CQUFtQixLQUFLck0sTUFBTCxDQUFZeUIsU0FBWixDQUFzQkksYUFBekMsR0FBeUQsR0FBekQsR0FBK0RzSyxHQUQ1QixDQUFyQyxDQTFCK0MsQ0E4Qi9DO0FBQ0E7O0FBQ0FKLGNBQVUsQ0FBQ08sVUFBWCxHQUF3QlAsVUFBVSxDQUFDTyxVQUFYLElBQXlCLEVBQWpEO0FBQ0FQLGNBQVUsQ0FBQ08sVUFBWCxDQUFzQnhNLHFCQUF0QixJQUErQyxLQUFLRSxNQUFMLENBQVl5QixTQUFaLENBQXNCSSxhQUFyRTtBQUNBa0ssY0FBVSxDQUFDTyxVQUFYLENBQXNCek0sMEJBQXRCLElBQW9EcU0sY0FBcEQ7QUFFQSxXQUFPSCxVQUFQO0FBQ0QsR0FyQ0Q7QUF1Q0E7Ozs7O0FBR0F6TSxRQUFNLENBQUN5RCxTQUFQLENBQWlCMEksaUJBQWpCLEdBQXFDLFVBQVNGLFNBQVQsRUFBb0I7QUFDdkQsUUFBSVEsVUFBVSxHQUFHUixTQUFTLENBQUNnQix5QkFBVixDQUFvQyxDQUFDLFFBQUQsRUFBVyxZQUFYLENBQXBDLENBQWpCO0FBQ0FoTixLQUFDLENBQUNlLE1BQUYsQ0FBUyxJQUFULEVBQWV5TCxVQUFmLEVBQTJCLEtBQUtELGlCQUFMLEVBQTNCLEVBRnVELENBSXZEOztBQUNBLFFBQUlDLFVBQVUsQ0FBQ08sVUFBWCxJQUF5QlAsVUFBVSxDQUFDTyxVQUFYLENBQXNCek0sMEJBQXRCLENBQTdCLEVBQWdGO0FBQzlFLFVBQU0yTSxPQUFPLEdBQUdqQixTQUFTLENBQUNnQix5QkFBVixDQUFvQyxDQUFDLFNBQUQsQ0FBcEMsQ0FBaEI7QUFDQUMsYUFBTyxDQUFDRixVQUFSLEdBQXFCRSxPQUFPLENBQUNGLFVBQVIsSUFBc0IsRUFBM0M7QUFDQUUsYUFBTyxDQUFDRixVQUFSLENBQW1Cdk0sZ0NBQW5CLElBQXVELE9BQXZEO0FBQ0Q7QUFDRixHQVZEO0FBWUE7Ozs7Ozs7Ozs7QUFRQVQsUUFBTSxDQUFDeUQsU0FBUCxDQUFpQjJELGFBQWpCLEdBQWlDLFVBQVUrRixZQUFWLEVBQXdCO0FBQ3ZELFFBQUlDLEdBQUosRUFBUzVGLFFBQVQsRUFBbUJJLEtBQW5CO0FBQ0EsUUFBSXlGLFFBQVEsR0FBR0YsWUFBWSxDQUFDbkcsT0FBYixDQUFxQixHQUFyQixDQUFmOztBQUNBLFFBQUlxRyxRQUFRLEtBQUssQ0FBQyxDQUFsQixFQUFxQjtBQUNuQjtBQUNBRCxTQUFHLEdBQUdELFlBQVksQ0FBQzlGLEtBQWIsQ0FBbUJnRyxRQUFRLEdBQUcsQ0FBOUIsQ0FBTjtBQUNBN0YsY0FBUSxHQUFHMkYsWUFBWSxDQUFDOUYsS0FBYixDQUFtQixDQUFuQixFQUFzQmdHLFFBQXRCLENBQVg7QUFDRCxLQUpELE1BS0s7QUFDSDdGLGNBQVEsR0FBRzJGLFlBQVg7QUFDRDs7QUFFRCxRQUFJRyxRQUFRLEdBQUc5RixRQUFRLENBQUNSLE9BQVQsQ0FBaUIsR0FBakIsQ0FBZjs7QUFDQSxRQUFJc0csUUFBUSxLQUFLLENBQUMsQ0FBbEIsRUFBcUI7QUFDbkI7QUFDQTFGLFdBQUssR0FBR0osUUFBUSxDQUFDSCxLQUFULENBQWVpRyxRQUFRLEdBQUcsQ0FBMUIsQ0FBUjtBQUNBOUYsY0FBUSxHQUFHQSxRQUFRLENBQUNILEtBQVQsQ0FBZSxDQUFmLEVBQWtCaUcsUUFBbEIsQ0FBWDtBQUNELEtBakJzRCxDQW1CdkQ7OztBQUNBLFFBQUlSLFNBQVMsR0FBR3RGLFFBQVEsQ0FBQ3ZELEtBQVQsQ0FBZSxHQUFmLENBQWhCLENBcEJ1RCxDQXNCdkQ7O0FBQ0EsU0FBSyxJQUFJcEIsQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBR2lLLFNBQVMsQ0FBQ2hLLE1BQTlCLEVBQXNDRCxDQUFDLEVBQXZDLEVBQTJDO0FBQ3pDaUssZUFBUyxDQUFDakssQ0FBRCxDQUFULEdBQWU5QyxHQUFHLENBQUN3TixJQUFKLENBQVNULFNBQVMsQ0FBQ2pLLENBQUQsQ0FBbEIsQ0FBZixDQUR5QyxDQUd6Qzs7QUFDQSxVQUFJMkssSUFBSSxHQUFHckksUUFBUSxDQUFDc0ksYUFBVCxDQUF1QixVQUF2QixDQUFYO0FBQ0FELFVBQUksQ0FBQ0UsU0FBTCxHQUFpQlosU0FBUyxDQUFDakssQ0FBRCxDQUExQjtBQUNBaUssZUFBUyxDQUFDakssQ0FBRCxDQUFULEdBQWUySyxJQUFJLENBQUNHLEtBQXBCO0FBQ0Q7O0FBRUQsV0FBTztBQUNMUCxTQUFHLEVBQUVBLEdBREE7QUFFTE4sZUFBUyxFQUFFQSxTQUZOO0FBR0xsRixXQUFLLEVBQUVBO0FBSEYsS0FBUDtBQUtELEdBckNEO0FBdUNBOzs7Ozs7OztBQU1BNUgsUUFBTSxDQUFDeUQsU0FBUCxDQUFpQjJJLGlCQUFqQixHQUFxQyxVQUFVSCxTQUFWLEVBQXFCO0FBQ3hEQSxhQUFTLENBQUMyQixlQUFWLENBQTBCLEtBQUsvQyxRQUFMLEVBQTFCLEVBQTJDLEtBQUtDLFdBQUwsRUFBM0MsRUFBK0QsSUFBL0Q7QUFDQW1CLGFBQVMsQ0FBQ00sSUFBVixDQUFlRCxTQUFmLENBQXlCdUIsTUFBekIsQ0FBZ0NDLFFBQWhDLEdBQTJDLEtBQUtDLGVBQUwsRUFBM0M7QUFDRCxHQUhEO0FBS0E7Ozs7OztBQUlBL04sUUFBTSxDQUFDeUQsU0FBUCxDQUFpQnNLLGVBQWpCLEdBQW1DLFlBQVk7QUFDN0MsUUFBSUMsWUFBWSxHQUFHLEtBQUtDLGVBQUwsRUFBbkI7QUFDQSxXQUFPRCxZQUFZLENBQUNFLElBQWIsQ0FBa0IsS0FBbEIsQ0FBUDtBQUNELEdBSEQ7QUFLQTs7Ozs7QUFHQWxPLFFBQU0sQ0FBQ3lELFNBQVAsQ0FBaUIrQixjQUFqQixHQUFrQyxZQUFZO0FBQzVDLFFBQUkySSxRQUFRLEdBQUcsS0FBS3JELFdBQUwsRUFBZjtBQUNBLFFBQUlzRCxLQUFLLEdBQUcsS0FBS3ZELFFBQUwsRUFBWjtBQUNBLFFBQUl3RCxTQUFTLEdBQUd0TyxHQUFHLENBQUNHLFFBQUosQ0FBYW9PLHdCQUFiLENBQXNDLEtBQUs1TixNQUFMLENBQVlTLGVBQWxELEVBQW1FaU4sS0FBSyxHQUFHRCxRQUEzRSxFQUFxRjVGLE9BQXJGLENBQTZGLFFBQTdGLEVBQXVHNkYsS0FBdkcsRUFBOEc3RixPQUE5RyxDQUFzSCxRQUF0SCxFQUFnSTRGLFFBQWhJLENBQWhCO0FBRUEsU0FBS0ksV0FBTCxDQUFpQkYsU0FBakIsRUFBNEJELEtBQTVCLEVBQW1DRCxRQUFuQyxFQUE2QyxLQUFLek4sTUFBTCxDQUFZd0IsYUFBekQ7O0FBRUEsUUFBSWtNLEtBQUssS0FBS0QsUUFBZCxFQUF3QjtBQUN0QixXQUFLN0ksc0JBQUwsQ0FBNEJoRixjQUE1QjtBQUNEO0FBQ0YsR0FWRDtBQVlBOzs7OztBQUdBTixRQUFNLENBQUN5RCxTQUFQLENBQWlCa0YsY0FBakIsR0FBa0MsWUFBWTtBQUM1QztBQUNBLFNBQUs2RixjQUFMO0FBQ0QsR0FIRDtBQUtBOzs7OztBQUdBeE8sUUFBTSxDQUFDeUQsU0FBUCxDQUFpQmlJLGFBQWpCLEdBQWlDLFlBQVk7QUFDM0M7QUFDQSxTQUFLdkYsVUFBTCxDQUFnQkUsSUFBaEIsQ0FBcUIscUJBQXJCLEVBQTRDcUUsTUFBNUM7QUFDRCxHQUhEO0FBS0E7Ozs7Ozs7QUFLQTFLLFFBQU0sQ0FBQ3lELFNBQVAsQ0FBaUJxSCxXQUFqQixHQUErQixZQUFZO0FBQ3pDLFFBQUlqSyxJQUFJLEdBQUcsSUFBWDtBQUNBLFdBQU9BLElBQUksQ0FBQ3FDLE1BQUwsQ0FBWUosTUFBbkI7QUFDRCxHQUhEO0FBS0E7Ozs7Ozs7QUFLQTlDLFFBQU0sQ0FBQ3lELFNBQVAsQ0FBaUJvSCxRQUFqQixHQUE0QixZQUFZO0FBQ3RDLFFBQUloSyxJQUFJLEdBQUcsSUFBWDtBQUNBLFFBQUl5SCxPQUFPLEdBQUcsQ0FBZDs7QUFDQSxTQUFLLElBQUl6RixDQUFDLEdBQUcsQ0FBYixFQUFnQkEsQ0FBQyxHQUFHaEMsSUFBSSxDQUFDcUMsTUFBTCxDQUFZSixNQUFoQyxFQUF3Q0QsQ0FBQyxFQUF6QyxFQUE2QztBQUMzQyxVQUFJaEMsSUFBSSxDQUFDcUMsTUFBTCxDQUFZTCxDQUFaLEVBQWV5RixPQUFmLEVBQUosRUFBOEI7QUFDNUJBLGVBQU87QUFDUjs7QUFDRHpILFVBQUksQ0FBQ0gsTUFBTCxDQUFZVSxXQUFaLENBQXdCeUIsQ0FBeEIsSUFBNkJoQyxJQUFJLENBQUNxQyxNQUFMLENBQVlMLENBQVosRUFBZXVGLGFBQWYsRUFBN0I7QUFDRDs7QUFFRCxXQUFPRSxPQUFQO0FBQ0QsR0FYRDs7QUFhQXRJLFFBQU0sQ0FBQ3lELFNBQVAsQ0FBaUJnTCxRQUFqQixHQUE0QixZQUFXO0FBQ3JDLFdBQU8xTyxHQUFHLENBQUMyTyxXQUFKLENBQWlCLEtBQUs5TixXQUFMLENBQWlCK04sUUFBakIsSUFBNkIsS0FBSy9OLFdBQUwsQ0FBaUIrTixRQUFqQixDQUEwQnJLLEtBQXhELEdBQWlFLEtBQUsxRCxXQUFMLENBQWlCK04sUUFBakIsQ0FBMEJySyxLQUEzRixHQUFtRyxTQUFuSCxDQUFQO0FBQ0QsR0FGRDtBQUlBOzs7OztBQUdBdEUsUUFBTSxDQUFDeUQsU0FBUCxDQUFpQnVJLFlBQWpCLEdBQWdDLFlBQVk7QUFDMUMsU0FBSzlJLE1BQUwsQ0FBWTBMLE9BQVosQ0FBb0IsVUFBVWxILEtBQVYsRUFBaUI7QUFDbkNBLFdBQUssQ0FBQ21ILFlBQU4sQ0FBbUIsRUFBbkI7QUFDQW5ILFdBQUssQ0FBQ29ILGNBQU47QUFDRCxLQUhEO0FBSUQsR0FMRDtBQU9BOzs7Ozs7O0FBS0E5TyxRQUFNLENBQUN5RCxTQUFQLENBQWlCc0wsY0FBakIsR0FBa0MsWUFBWTtBQUM1QyxXQUFPLEtBQUt2RixRQUFMLElBQWlCLENBQUMsS0FBSzFCLFNBQTlCO0FBQ0QsR0FGRDtBQUlBOzs7Ozs7QUFJQTlILFFBQU0sQ0FBQ2dQLFFBQVAsR0FBa0IsVUFBVXJGLE1BQVYsRUFBa0I7QUFDbENSLGNBQVUsQ0FBQyxZQUFZO0FBQ3JCUSxZQUFNLENBQUNyRCxLQUFQO0FBQ0QsS0FGUyxFQUVQLENBRk8sQ0FBVjtBQUdELEdBSkQ7QUFNQTs7Ozs7OztBQUtBdEcsUUFBTSxDQUFDeUQsU0FBUCxDQUFpQndLLGVBQWpCLEdBQW1DLFlBQVk7QUFDN0MsUUFBSWdCLGFBQWEsR0FBRyxFQUFwQixDQUQ2QyxDQUc3Qzs7QUFDQSxTQUFLL0wsTUFBTCxDQUFZMEwsT0FBWixDQUFvQixVQUFVbEgsS0FBVixFQUFpQjtBQUNuQ3VILG1CQUFhLENBQUNwSCxJQUFkLENBQW1CSCxLQUFLLENBQUN3SCxZQUFOLEVBQW5CO0FBQ0QsS0FGRDtBQUdBLFdBQU9ELGFBQVA7QUFDRCxHQVJEO0FBVUE7Ozs7O0FBR0FqUCxRQUFNLENBQUN5RCxTQUFQLENBQWlCb0IsZUFBakIsR0FBbUMsWUFBWTtBQUM3QyxRQUFJaEUsSUFBSSxHQUFHLElBQVg7QUFDQSxRQUFJc08sWUFBWSxHQUFJLEtBQUtsTSxhQUFMLEtBQXVCRCxTQUF2QixJQUNBLEtBQUtDLGFBQUwsQ0FBbUJILE1BRG5CLElBRUEsS0FBS0csYUFBTCxDQUFtQkgsTUFBbkIsS0FBOEIsS0FBS0ksTUFBTCxDQUFZSixNQUY5RCxDQUY2QyxDQU03Qzs7QUFDQSxRQUFJLENBQUNxTSxZQUFMLEVBQW1CO0FBQ2pCO0FBQ0QsS0FUNEMsQ0FXN0M7OztBQUNBLFFBQUlDLGtCQUFrQixHQUFHLElBQXpCO0FBQ0EsU0FBS25NLGFBQUwsQ0FBbUIyTCxPQUFuQixDQUEyQixVQUFVM0gsWUFBVixFQUF3Qm9JLE9BQXhCLEVBQWlDO0FBRTFEO0FBQ0EsVUFBSXBJLFlBQVksQ0FBQ25FLE1BQWpCLEVBQXlCO0FBQ3ZCakMsWUFBSSxDQUFDMkksUUFBTCxHQUFnQixJQUFoQjtBQUNEOztBQUVELFVBQUk5QixLQUFLLEdBQUc3RyxJQUFJLENBQUNxQyxNQUFMLENBQVltTSxPQUFaLENBQVo7QUFDQTNILFdBQUssQ0FBQ21ILFlBQU4sQ0FBbUI1SCxZQUFuQixFQVIwRCxDQVUxRDs7QUFDQSxVQUFJcEcsSUFBSSxDQUFDSCxNQUFMLENBQVl5QixTQUFaLENBQXNCTSxTQUExQixFQUFxQztBQUNuQyxZQUFJaUYsS0FBSyxDQUFDMEQsU0FBTixFQUFKLEVBQXVCO0FBQ3JCMUQsZUFBSyxDQUFDbkcsV0FBTjtBQUNELFNBRkQsTUFFTztBQUNMNk4sNEJBQWtCLEdBQUcsS0FBckI7QUFDRDtBQUNGO0FBQ0YsS0FsQkQ7O0FBb0JBLFFBQUl2TyxJQUFJLENBQUNILE1BQUwsQ0FBWXlCLFNBQVosQ0FBc0JNLFNBQXRCLElBQW1DMk0sa0JBQXZDLEVBQTJEO0FBQ3pEdk8sVUFBSSxDQUFDMkUsY0FBTDtBQUNBM0UsVUFBSSxDQUFDeUUsc0JBQUwsQ0FBNEJsRixjQUE1QjtBQUNEO0FBQ0YsR0FyQ0Q7QUF1Q0E7Ozs7OztBQUlBSixRQUFNLENBQUN5RCxTQUFQLENBQWlCNEgsWUFBakIsR0FBZ0MsWUFBWTtBQUMxQyxTQUFLbEYsVUFBTCxDQUFnQkUsSUFBaEIsQ0FBcUIsT0FBckIsRUFBOEJtRixJQUE5QixDQUFtQyxVQUFuQyxFQUErQyxJQUEvQztBQUNELEdBRkQ7O0FBSUEsU0FBT3hMLE1BQVA7QUFDRCxDQXY1QlksQ0F1NUJWRCxHQUFHLENBQUN1UCxNQXY1Qk0sRUF1NUJFdlAsR0FBRyxDQUFDRyxRQXY1Qk4sQ0FBYiIsImZpbGUiOiIuL0g1UC5CbGFua3Mvc3JjL2JsYW5rcy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qZ2xvYmFsIEg1UCovXG5INVAuQmxhbmtzID0gKGZ1bmN0aW9uICgkLCBRdWVzdGlvbikge1xuICAvKipcbiAgICogQGNvbnN0YW50XG4gICAqIEBkZWZhdWx0XG4gICAqL1xuICB2YXIgU1RBVEVfT05HT0lORyA9ICdvbmdvaW5nJztcbiAgdmFyIFNUQVRFX0NIRUNLSU5HID0gJ2NoZWNraW5nJztcbiAgdmFyIFNUQVRFX1NIT1dJTkdfU09MVVRJT04gPSAnc2hvd2luZy1zb2x1dGlvbic7XG4gIHZhciBTVEFURV9GSU5JU0hFRCA9ICdmaW5pc2hlZCc7XG5cbiAgY29uc3QgWEFQSV9BTFRFUk5BVElWRV9FWFRFTlNJT04gPSAnaHR0cHM6Ly9oNXAub3JnL3gtYXBpL2FsdGVybmF0aXZlcyc7XG4gIGNvbnN0IFhBUElfQ0FTRV9TRU5TSVRJVklUWSA9ICdodHRwczovL2g1cC5vcmcveC1hcGkvY2FzZS1zZW5zaXRpdml0eSc7XG4gIGNvbnN0IFhBUElfUkVQT1JUSU5HX1ZFUlNJT05fRVhURU5TSU9OID0gJ2h0dHBzOi8vaDVwLm9yZy94LWFwaS9oNXAtcmVwb3J0aW5nLXZlcnNpb24nO1xuXG4gIC8qKlxuICAgKiBAdHlwZWRlZiB7T2JqZWN0fSBQYXJhbXNcbiAgICogIFBhcmFtZXRlcnMvY29uZmlndXJhdGlvbiBvYmplY3QgZm9yIEJsYW5rc1xuICAgKlxuICAgKiBAcHJvcGVydHkge09iamVjdH0gUGFyYW1zLmJlaGF2aW91clxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gUGFyYW1zLmJlaGF2aW91ci5jb25maXJtUmV0cnlEaWFsb2dcbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IFBhcmFtcy5iZWhhdmlvdXIuY29uZmlybUNoZWNrRGlhbG9nXG4gICAqXG4gICAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBQYXJhbXMuY29uZmlybVJldHJ5XG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBQYXJhbXMuY29uZmlybVJldHJ5LmhlYWRlclxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gUGFyYW1zLmNvbmZpcm1SZXRyeS5ib2R5XG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBQYXJhbXMuY29uZmlybVJldHJ5LmNhbmNlbExhYmVsXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBQYXJhbXMuY29uZmlybVJldHJ5LmNvbmZpcm1MYWJlbFxuICAgKlxuICAgKiBAcHJvcGVydHkge09iamVjdH0gUGFyYW1zLmNvbmZpcm1DaGVja1xuICAgKiBAcHJvcGVydHkge3N0cmluZ30gUGFyYW1zLmNvbmZpcm1DaGVjay5oZWFkZXJcbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IFBhcmFtcy5jb25maXJtQ2hlY2suYm9keVxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gUGFyYW1zLmNvbmZpcm1DaGVjay5jYW5jZWxMYWJlbFxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gUGFyYW1zLmNvbmZpcm1DaGVjay5jb25maXJtTGFiZWxcbiAgICovXG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgbW9kdWxlLlxuICAgKlxuICAgKiBAY2xhc3MgSDVQLkJsYW5rc1xuICAgKiBAZXh0ZW5kcyBINVAuUXVlc3Rpb25cbiAgICogQHBhcmFtIHtQYXJhbXN9IHBhcmFtc1xuICAgKiBAcGFyYW0ge251bWJlcn0gaWQgQ29udGVudCBpZGVudGlmaWNhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gY29udGVudERhdGEgVGFzayBzcGVjaWZpYyBjb250ZW50IGRhdGFcbiAgICovXG4gIGZ1bmN0aW9uIEJsYW5rcyhwYXJhbXMsIGlkLCBjb250ZW50RGF0YSkge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIC8vIEluaGVyaXRhbmNlXG4gICAgUXVlc3Rpb24uY2FsbChzZWxmLCAnYmxhbmtzJyk7XG5cbiAgICAvLyBJRHNcbiAgICB0aGlzLmNvbnRlbnRJZCA9IGlkO1xuICAgIHRoaXMuY29udGVudERhdGEgPSBjb250ZW50RGF0YTtcblxuICAgIHRoaXMucGFyYW1zID0gJC5leHRlbmQodHJ1ZSwge30sIHtcbiAgICAgIHRleHQ6IFwiRmlsbCBpblwiLFxuICAgICAgcXVlc3Rpb25zOiBbXG4gICAgICAgIFwiT3NsbyBpcyB0aGUgY2FwaXRhbCBvZiAqTm9yd2F5Ki5cIlxuICAgICAgXSxcbiAgICAgIG92ZXJhbGxGZWVkYmFjazogW10sXG4gICAgICB1c2VyQW5zd2VyczogW10sIC8vIFRPRE8gVGhpcyBpc24ndCBpbiBzZW1hbnRpY3M/XG4gICAgICBzaG93U29sdXRpb25zOiBcIlNob3cgc29sdXRpb25cIixcbiAgICAgIHRyeUFnYWluOiBcIlRyeSBhZ2FpblwiLFxuICAgICAgY2hlY2tBbnN3ZXI6IFwiQ2hlY2tcIixcbiAgICAgIGNoYW5nZUFuc3dlcjogXCJDaGFuZ2UgYW5zd2VyXCIsXG4gICAgICBub3RGaWxsZWRPdXQ6IFwiUGxlYXNlIGZpbGwgaW4gYWxsIGJsYW5rcyB0byB2aWV3IHNvbHV0aW9uXCIsXG4gICAgICBhbnN3ZXJJc0NvcnJlY3Q6IFwiJzphbnMnIGlzIGNvcnJlY3RcIixcbiAgICAgIGFuc3dlcklzV3Jvbmc6IFwiJzphbnMnIGlzIHdyb25nXCIsXG4gICAgICBhbnN3ZXJlZENvcnJlY3RseTogXCJBbnN3ZXJlZCBjb3JyZWN0bHlcIixcbiAgICAgIGFuc3dlcmVkSW5jb3JyZWN0bHk6IFwiQW5zd2VyZWQgaW5jb3JyZWN0bHlcIixcbiAgICAgIHNvbHV0aW9uTGFiZWw6IFwiQ29ycmVjdCBhbnN3ZXI6XCIsXG4gICAgICBpbnB1dExhYmVsOiBcIkJsYW5rIGlucHV0IEBudW0gb2YgQHRvdGFsXCIsXG4gICAgICBpbnB1dEhhc1RpcExhYmVsOiBcIlRpcCBhdmFpbGFibGVcIixcbiAgICAgIHRpcExhYmVsOiBcIlRpcFwiLFxuICAgICAgc2NvcmVCYXJMYWJlbDogJ1lvdSBnb3QgOm51bSBvdXQgb2YgOnRvdGFsIHBvaW50cycsXG4gICAgICBiZWhhdmlvdXI6IHtcbiAgICAgICAgZW5hYmxlUmV0cnk6IHRydWUsXG4gICAgICAgIGVuYWJsZVNvbHV0aW9uc0J1dHRvbjogdHJ1ZSxcbiAgICAgICAgZW5hYmxlQ2hlY2tCdXR0b246IGZhbHNlLFxuICAgICAgICBjYXNlU2Vuc2l0aXZlOiB0cnVlLFxuICAgICAgICBzaG93U29sdXRpb25zUmVxdWlyZXNJbnB1dDogdHJ1ZSxcbiAgICAgICAgYXV0b0NoZWNrOiBmYWxzZSxcbiAgICAgICAgc2VwYXJhdGVMaW5lczogZmFsc2UsXG4gICAgICAgIGRpc2FibGVJbWFnZVpvb21pbmc6IGZhbHNlXG4gICAgICB9XG4gICAgfSwgcGFyYW1zKTtcblxuICAgIC8vIG92ZXJyaWRlIGJ1dHRvbnNcbiAgICBpZihzZWxmLnBhcmFtcy5iZWhhdmlvdXIuZGlzYWJsZUJ1dHRvbnMpIHtcbiAgICAgIHNlbGYucGFyYW1zLmJlaGF2aW91ci5lbmFibGVSZXRyeSA9IGZhbHNlO1xuICAgICAgc2VsZi5wYXJhbXMuYmVoYXZpb3VyLmVuYWJsZVNvbHV0aW9uc0J1dHRvbiA9IGZhbHNlO1xuICAgICAgc2VsZi5wYXJhbXMuYmVoYXZpb3VyLmVuYWJsZUNoZWNrQnV0dG9uID0gZmFsc2U7XG4gICAgICBzZWxmLnBhcmFtcy5iZWhhdmlvdXIuYXV0b0NoZWNrID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gRGVsZXRlIGVtcHR5IHF1ZXN0aW9uc1xuICAgIGZvciAodmFyIGkgPSB0aGlzLnBhcmFtcy5xdWVzdGlvbnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGlmICghdGhpcy5wYXJhbXMucXVlc3Rpb25zW2ldKSB7XG4gICAgICAgIHRoaXMucGFyYW1zLnF1ZXN0aW9ucy5zcGxpY2UoaSwgMSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUHJldmlvdXMgc3RhdGVcbiAgICB0aGlzLmNvbnRlbnREYXRhID0gY29udGVudERhdGE7XG4gICAgaWYgKHRoaXMuY29udGVudERhdGEgIT09IHVuZGVmaW5lZCAmJiB0aGlzLmNvbnRlbnREYXRhLnByZXZpb3VzU3RhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5wcmV2aW91c1N0YXRlID0gdGhpcy5jb250ZW50RGF0YS5wcmV2aW91c1N0YXRlO1xuICAgIH1cblxuICAgIC8vIENsb3plc1xuICAgIHRoaXMuY2xvemVzID0gW107XG5cbiAgICAvLyBLZWVwIHRyYWNrIHRhYmJpbmcgZm9yd2FyZCBvciBiYWNrd2FyZHNcbiAgICB0aGlzLnNoaWZ0UHJlc3NlZCA9IGZhbHNlO1xuICAgIFxuICAgIEg1UC4kYm9keS5rZXlkb3duKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IDE2KSB7XG4gICAgICAgIHNlbGYuc2hpZnRQcmVzc2VkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KS5rZXl1cChmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGlmIChldmVudC5rZXlDb2RlID09PSAxNikge1xuICAgICAgICBzZWxmLnNoaWZ0UHJlc3NlZCA9IGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLy8gSW5oZXJpdGFuY2VcbiAgQmxhbmtzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoUXVlc3Rpb24ucHJvdG90eXBlKTtcbiAgQmxhbmtzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEJsYW5rcztcblxuICAvKipcbiAgICogUmVnaXN0ZXJzIHRoaXMgcXVlc3Rpb24gdHlwZSdzIERPTSBlbGVtZW50cyBiZWZvcmUgdGhleSBhcmUgYXR0YWNoZWQuXG4gICAqIENhbGxlZCBmcm9tIEg1UC5RdWVzdGlvbi5cbiAgICovXG4gIEJsYW5rcy5wcm90b3R5cGUucmVnaXN0ZXJEb21FbGVtZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAvLyBDaGVjayBmb3IgdGFzayBtZWRpYVxuICAgIHZhciBtZWRpYSA9IHNlbGYucGFyYW1zLm1lZGlhO1xuICAgIGlmIChtZWRpYSAmJiBtZWRpYS5saWJyYXJ5KSB7XG4gICAgICB2YXIgdHlwZSA9IG1lZGlhLmxpYnJhcnkuc3BsaXQoJyAnKVswXTtcbiAgICAgIGlmICh0eXBlID09PSAnSDVQLkltYWdlJykge1xuICAgICAgICBpZiAobWVkaWEucGFyYW1zLmZpbGUpIHtcbiAgICAgICAgICAvLyBSZWdpc3RlciB0YXNrIGltYWdlXG4gICAgICAgICAgc2VsZi5zZXRJbWFnZShtZWRpYS5wYXJhbXMuZmlsZS5wYXRoLCB7XG4gICAgICAgICAgICBkaXNhYmxlSW1hZ2Vab29taW5nOiBzZWxmLnBhcmFtcy5iZWhhdmlvdXIuZGlzYWJsZUltYWdlWm9vbWluZyxcbiAgICAgICAgICAgIGFsdDogbWVkaWEucGFyYW1zLmFsdCxcbiAgICAgICAgICAgIHRpdGxlOiBtZWRpYS5wYXJhbXMudGl0bGVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSBpZiAodHlwZSA9PT0gJ0g1UC5WaWRlbycpIHtcbiAgICAgICAgaWYgKG1lZGlhLnBhcmFtcy5zb3VyY2VzKSB7XG4gICAgICAgICAgLy8gUmVnaXN0ZXIgdGFzayB2aWRlb1xuICAgICAgICAgIHNlbGYuc2V0VmlkZW8obWVkaWEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmVnaXN0ZXIgdGFzayBpbnRyb2R1Y3Rpb24gdGV4dFxuICAgIHNlbGYuc2V0SW50cm9kdWN0aW9uKHNlbGYucGFyYW1zLnRleHQpO1xuXG4gICAgLy8gUmVnaXN0ZXIgdGFzayBjb250ZW50IGFyZWFcbiAgICBzZWxmLnNldENvbnRlbnQoc2VsZi5jcmVhdGVRdWVzdGlvbnMoKSwge1xuICAgICAgJ2NsYXNzJzogc2VsZi5wYXJhbXMuYmVoYXZpb3VyLnNlcGFyYXRlTGluZXMgPyAnaDVwLXNlcGFyYXRlLWxpbmVzJyA6ICcnXG4gICAgfSk7XG5cbiAgICAvLyAuLi4gYW5kIGJ1dHRvbnNcbiAgICBzZWxmLnJlZ2lzdGVyQnV0dG9ucygpO1xuXG4gICAgLy8gUmVzdG9yZSBwcmV2aW91cyBzdGF0ZVxuICAgIHNlbGYuc2V0SDVQVXNlclN0YXRlKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhbGwgdGhlIGJ1dHRvbnMgZm9yIHRoZSB0YXNrXG4gICAqL1xuICBCbGFua3MucHJvdG90eXBlLnJlZ2lzdGVyQnV0dG9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyICRjb250ZW50ID0gJCgnW2RhdGEtY29udGVudC1pZD1cIicgKyBzZWxmLmNvbnRlbnRJZCArICdcIl0uaDVwLWNvbnRlbnQnKTtcbiAgICB2YXIgJGNvbnRhaW5lclBhcmVudHMgPSAkY29udGVudC5wYXJlbnRzKCcuaDVwLWNvbnRhaW5lcicpO1xuXG4gICAgLy8gc2VsZWN0IGZpbmQgY29udGFpbmVyIHRvIGF0dGFjaCBkaWFsb2dzIHRvXG4gICAgdmFyICRjb250YWluZXI7XG4gICAgaWYoJGNvbnRhaW5lclBhcmVudHMubGVuZ3RoICE9PSAwKSB7XG4gICAgICAvLyB1c2UgcGFyZW50IGhpZ2hlc3QgdXAgaWYgYW55XG4gICAgICAkY29udGFpbmVyID0gJGNvbnRhaW5lclBhcmVudHMubGFzdCgpO1xuICAgIH1cbiAgICBlbHNlIGlmKCRjb250ZW50Lmxlbmd0aCAhPT0gMCl7XG4gICAgICAkY29udGFpbmVyID0gJGNvbnRlbnQ7XG4gICAgfVxuICAgIGVsc2UgIHtcbiAgICAgICRjb250YWluZXIgPSAkKGRvY3VtZW50LmJvZHkpO1xuICAgIH1cblxuICAgIGlmICghc2VsZi5wYXJhbXMuYmVoYXZpb3VyLmF1dG9DaGVjayAmJiB0aGlzLnBhcmFtcy5iZWhhdmlvdXIuZW5hYmxlQ2hlY2tCdXR0b24pIHtcbiAgICAgIC8vIENoZWNrIGFuc3dlciBidXR0b25cbiAgICAgIHNlbGYuYWRkQnV0dG9uKCdjaGVjay1hbnN3ZXInLCBzZWxmLnBhcmFtcy5jaGVja0Fuc3dlciwgZnVuY3Rpb24gKCkge1xuICAgICAgICBzZWxmLnRvZ2dsZUJ1dHRvblZpc2liaWxpdHkoU1RBVEVfQ0hFQ0tJTkcpO1xuICAgICAgICBzZWxmLm1hcmtSZXN1bHRzKCk7XG4gICAgICAgIHNlbGYuc2hvd0V2YWx1YXRpb24oKTtcbiAgICAgICAgc2VsZi50cmlnZ2VyQW5zd2VyZWQoKTtcbiAgICAgIH0sIHRydWUsIHt9LCB7XG4gICAgICAgIGNvbmZpcm1hdGlvbkRpYWxvZzoge1xuICAgICAgICAgIGVuYWJsZTogc2VsZi5wYXJhbXMuYmVoYXZpb3VyLmNvbmZpcm1DaGVja0RpYWxvZyxcbiAgICAgICAgICBsMTBuOiBzZWxmLnBhcmFtcy5jb25maXJtQ2hlY2ssXG4gICAgICAgICAgaW5zdGFuY2U6IHNlbGYsXG4gICAgICAgICAgJHBhcmVudEVsZW1lbnQ6ICRjb250YWluZXJcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gU2hvdyBzb2x1dGlvbiBidXR0b25cbiAgICBzZWxmLmFkZEJ1dHRvbignc2hvdy1zb2x1dGlvbicsIHNlbGYucGFyYW1zLnNob3dTb2x1dGlvbnMsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHNlbGYuc2hvd0NvcnJlY3RBbnN3ZXJzKGZhbHNlKTtcbiAgICB9LCBzZWxmLnBhcmFtcy5iZWhhdmlvdXIuZW5hYmxlU29sdXRpb25zQnV0dG9uKTtcblxuICAgIC8vIFRyeSBhZ2FpbiBidXR0b25cbiAgICBpZiAoc2VsZi5wYXJhbXMuYmVoYXZpb3VyLmVuYWJsZVJldHJ5ID09PSB0cnVlKSB7XG4gICAgICBzZWxmLmFkZEJ1dHRvbigndHJ5LWFnYWluJywgc2VsZi5wYXJhbXMudHJ5QWdhaW4sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2VsZi5yZXNldFRhc2soKTtcbiAgICAgICAgc2VsZi4kcXVlc3Rpb25zLmZpbHRlcignOmZpcnN0JykuZmluZCgnaW5wdXQ6Zmlyc3QnKS5mb2N1cygpO1xuICAgICAgfSwgdHJ1ZSwge30sIHtcbiAgICAgICAgY29uZmlybWF0aW9uRGlhbG9nOiB7XG4gICAgICAgICAgZW5hYmxlOiBzZWxmLnBhcmFtcy5iZWhhdmlvdXIuY29uZmlybVJldHJ5RGlhbG9nLFxuICAgICAgICAgIGwxMG46IHNlbGYucGFyYW1zLmNvbmZpcm1SZXRyeSxcbiAgICAgICAgICBpbnN0YW5jZTogc2VsZixcbiAgICAgICAgICAkcGFyZW50RWxlbWVudDogJGNvbnRhaW5lclxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBTaG93IHR0cyB0YXNrIGJ1dHRvblxuICAgIGlmKHNlbGYucGFyYW1zLmJlaGF2aW91ci5lbmFibGVUVFNCdXR0b25zKSB7XG4gICAgICBzZWxmLmFkZEJ1dHRvbih0aGlzLnBhcmFtcy50dHMsIFwidHRzXCIpO1xuICAgIH1cblxuICAgIHNlbGYudG9nZ2xlQnV0dG9uVmlzaWJpbGl0eShTVEFURV9PTkdPSU5HKTtcbiAgfTtcblxuICAvKipcbiAgICogRmluZCBibGFua3MgaW4gYSBzdHJpbmcgYW5kIHJ1biBhIGhhbmRsZXIgb24gdGhvc2UgYmxhbmtzXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBxdWVzdGlvblxuICAgKiAgIFF1ZXN0aW9uIHRleHQgY29udGFpbmluZyBibGFua3MgZW5jbG9zZWQgaW4gYXN0ZXJpc2tzLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBoYW5kbGVyXG4gICAqICAgUmVwbGFjZXMgdGhlIGJsYW5rcyB0ZXh0IHdpdGggYW4gaW5wdXQgZmllbGQuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqICAgVGhlIHF1ZXN0aW9uIHdpdGggYmxhbmtzIHJlcGxhY2VkIGJ5IHRoZSBnaXZlbiBoYW5kbGVyLlxuICAgKi9cbiAgQmxhbmtzLnByb3RvdHlwZS5oYW5kbGVCbGFua3MgPSBmdW5jdGlvbiAocXVlc3Rpb24sIGhhbmRsZXIpIHtcbiAgICAvLyBHbyB0aHJvdWdoIHRoZSB0ZXh0IGFuZCBydW4gaGFuZGxlciBvbiBhbGwgYXN0ZXJpc2tcbiAgICB2YXIgY2xvemVFbmQsIGNsb3plU3RhcnQgPSBxdWVzdGlvbi5pbmRleE9mKCcqJyk7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHdoaWxlIChjbG96ZVN0YXJ0ICE9PSAtMSAmJiBjbG96ZUVuZCAhPT0gLTEpIHtcbiAgICAgIGNsb3plU3RhcnQrKztcbiAgICAgIGNsb3plRW5kID0gcXVlc3Rpb24uaW5kZXhPZignKicsIGNsb3plU3RhcnQpO1xuICAgICAgaWYgKGNsb3plRW5kID09PSAtMSkge1xuICAgICAgICBjb250aW51ZTsgLy8gTm8gZW5kXG4gICAgICB9XG4gICAgICB2YXIgY2xvemVDb250ZW50ID0gcXVlc3Rpb24uc3Vic3RyaW5nKGNsb3plU3RhcnQsIGNsb3plRW5kKTtcbiAgICAgIHZhciByZXBsYWNlciA9ICcnO1xuICAgICAgaWYgKGNsb3plQ29udGVudC5sZW5ndGgpIHtcbiAgICAgICAgcmVwbGFjZXIgPSBoYW5kbGVyKHNlbGYucGFyc2VTb2x1dGlvbihjbG96ZUNvbnRlbnQpKTtcbiAgICAgICAgY2xvemVFbmQrKztcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBjbG96ZVN0YXJ0ICs9IDE7XG4gICAgICB9XG4gICAgICBxdWVzdGlvbiA9IHF1ZXN0aW9uLnNsaWNlKDAsIGNsb3plU3RhcnQgLSAxKSArIHJlcGxhY2VyICsgcXVlc3Rpb24uc2xpY2UoY2xvemVFbmQpO1xuICAgICAgY2xvemVFbmQgLT0gY2xvemVFbmQgLSBjbG96ZVN0YXJ0IC0gcmVwbGFjZXIubGVuZ3RoO1xuXG4gICAgICAvLyBGaW5kIHRoZSBuZXh0IGNsb3plXG4gICAgICBjbG96ZVN0YXJ0ID0gcXVlc3Rpb24uaW5kZXhPZignKicsIGNsb3plRW5kKTtcbiAgICB9XG4gICAgcmV0dXJuIHF1ZXN0aW9uO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgcXVlc3RpdG9ucyBodG1sIGZvciBET01cbiAgICovXG4gIEJsYW5rcy5wcm90b3R5cGUuY3JlYXRlUXVlc3Rpb25zID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHZhciBodG1sID0gJyc7XG4gICAgdmFyIGNsb3plTnVtYmVyID0gMDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlbGYucGFyYW1zLnF1ZXN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHF1ZXN0aW9uID0gc2VsZi5wYXJhbXMucXVlc3Rpb25zW2ldO1xuXG4gICAgICAvLyBHbyB0aHJvdWdoIHRoZSBxdWVzdGlvbiB0ZXh0IGFuZCByZXBsYWNlIGFsbCB0aGUgYXN0ZXJpc2tzIHdpdGggaW5wdXQgZmllbGRzXG4gICAgICBxdWVzdGlvbiA9IHNlbGYuaGFuZGxlQmxhbmtzKHF1ZXN0aW9uLCBmdW5jdGlvbiAoc29sdXRpb24pIHtcbiAgICAgICAgLy8gQ3JlYXRlIG5ldyBjbG96ZVxuICAgICAgICBjbG96ZU51bWJlciArPSAxO1xuICAgICAgICB2YXIgZGVmYXVsdFVzZXJBbnN3ZXIgPSAoc2VsZi5wYXJhbXMudXNlckFuc3dlcnMubGVuZ3RoID4gc2VsZi5jbG96ZXMubGVuZ3RoID8gc2VsZi5wYXJhbXMudXNlckFuc3dlcnNbc2VsZi5jbG96ZXMubGVuZ3RoXSA6IG51bGwpO1xuICAgICAgICB2YXIgY2xvemUgPSBuZXcgQmxhbmtzLkNsb3plKHNvbHV0aW9uLCBzZWxmLnBhcmFtcy5iZWhhdmlvdXIsIGRlZmF1bHRVc2VyQW5zd2VyLCBzb2x1dGlvbi50dHNJRCwge1xuICAgICAgICAgIGFuc3dlcmVkQ29ycmVjdGx5OiBzZWxmLnBhcmFtcy5hbnN3ZXJlZENvcnJlY3RseSxcbiAgICAgICAgICBhbnN3ZXJlZEluY29ycmVjdGx5OiBzZWxmLnBhcmFtcy5hbnN3ZXJlZEluY29ycmVjdGx5LFxuICAgICAgICAgIHNvbHV0aW9uTGFiZWw6IHNlbGYucGFyYW1zLnNvbHV0aW9uTGFiZWwsXG4gICAgICAgICAgaW5wdXRMYWJlbDogc2VsZi5wYXJhbXMuaW5wdXRMYWJlbCxcbiAgICAgICAgICBpbnB1dEhhc1RpcExhYmVsOiBzZWxmLnBhcmFtcy5pbnB1dEhhc1RpcExhYmVsLFxuICAgICAgICAgIHRpcExhYmVsOiBzZWxmLnBhcmFtcy50aXBMYWJlbCxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2VsZi5jbG96ZXMucHVzaChjbG96ZSk7XG4gICAgICAgIHJldHVybiBjbG96ZTtcbiAgICAgIH0pO1xuXG4gICAgICBodG1sICs9ICc8ZGl2PicgKyBxdWVzdGlvbiArICc8L2Rpdj4nO1xuICAgIH1cblxuICAgIHNlbGYuaGFzQ2xvemVzID0gY2xvemVOdW1iZXIgPiAwO1xuICAgIHRoaXMuJHF1ZXN0aW9ucyA9ICQoaHRtbCk7XG4gICAgXG4gICAgdGhpcy4kcXVlc3Rpb25zLmZpbmQoJy5oNXAtYWN0aW9uLWJ1dHRvbicpLmVhY2goZnVuY3Rpb24gKGkpIHtcbiAgICAgICQodGhpcykub24oXCJjbGlja1wiLCBmdW5jdGlvbigpe3NlbGYuaGFuZGxlVFRTQnV0dG9uQ2xpY2sodGhpcyl9KTtcbiAgICB9KTtcblxuICAgIC8vIFNldCBpbnB1dCBmaWVsZHMuXG4gICAgdGhpcy4kcXVlc3Rpb25zLmZpbmQoJ2lucHV0JykuZWFjaChmdW5jdGlvbiAoaSkge1xuICAgICAgdmFyIGFmdGVyQ2hlY2s7XG4gICAgICBpZiAoc2VsZi5wYXJhbXMuYmVoYXZpb3VyLmF1dG9DaGVjaykge1xuICAgICAgICBhZnRlckNoZWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBhbnN3ZXIgPSAkKFwiPGRpdj5cIikudGV4dCh0aGlzLmdldFVzZXJBbnN3ZXIoKSkuaHRtbCgpO1xuICAgICAgICAgIHNlbGYucmVhZCgodGhpcy5jb3JyZWN0KCkgPyBzZWxmLnBhcmFtcy5hbnN3ZXJJc0NvcnJlY3QgOiBzZWxmLnBhcmFtcy5hbnN3ZXJJc1dyb25nKS5yZXBsYWNlKCc6YW5zJywgYW5zd2VyKSk7XG4gICAgICAgICAgaWYgKHNlbGYuZG9uZSB8fCBzZWxmLmFsbEJsYW5rc0ZpbGxlZE91dCgpKSB7XG4gICAgICAgICAgICAvLyBBbGwgYW5zd2VycyBoYXMgYmVlbiBnaXZlbi4gU2hvdyBzb2x1dGlvbnMgYnV0dG9uLlxuICAgICAgICAgICAgc2VsZi50b2dnbGVCdXR0b25WaXNpYmlsaXR5KFNUQVRFX0NIRUNLSU5HKTtcbiAgICAgICAgICAgIHNlbGYuc2hvd0V2YWx1YXRpb24oKTtcbiAgICAgICAgICAgIHNlbGYudHJpZ2dlckFuc3dlcmVkKCk7XG4gICAgICAgICAgICBzZWxmLmRvbmUgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHNlbGYuY2xvemVzW2ldLnNldElucHV0KCQodGhpcyksIGFmdGVyQ2hlY2ssIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2VsZi50b2dnbGVCdXR0b25WaXNpYmlsaXR5KFNUQVRFX09OR09JTkcpO1xuICAgICAgICBpZiAoIXNlbGYucGFyYW1zLmJlaGF2aW91ci5hdXRvQ2hlY2spIHtcbiAgICAgICAgICBzZWxmLmhpZGVFdmFsdWF0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgIH0sIGksIHNlbGYuY2xvemVzLmxlbmd0aCk7XG4gICAgfSkua2V5ZG93bihmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XG5cbiAgICAgIC8vIEFkanVzdCB3aWR0aCBvZiB0ZXh0IGlucHV0IGZpZWxkIHRvIG1hdGNoIHZhbHVlXG4gICAgICBzZWxmLmF1dG9Hcm93VGV4dEZpZWxkKCR0aGlzKTtcblxuICAgICAgdmFyICRpbnB1dHMsIGlzTGFzdElucHV0O1xuICAgICAgdmFyIGVudGVyUHJlc3NlZCA9IChldmVudC5rZXlDb2RlID09PSAxMyk7XG4gICAgICB2YXIgdGFiUHJlc3NlZEF1dG9DaGVjayA9IChldmVudC5rZXlDb2RlID09PSA5ICYmIHNlbGYucGFyYW1zLmJlaGF2aW91ci5hdXRvQ2hlY2spO1xuXG4gICAgICBpZiAoZW50ZXJQcmVzc2VkIHx8IHRhYlByZXNzZWRBdXRvQ2hlY2spIHtcbiAgICAgICAgLy8gRmlndXJlIG91dCB3aGljaCBpbnB1dHMgYXJlIGxlZnQgdG8gYW5zd2VyXG4gICAgICAgICRpbnB1dHMgPSBzZWxmLiRxdWVzdGlvbnMuZmluZCgnLmg1cC1pbnB1dC13cmFwcGVyOm5vdCguaDVwLWNvcnJlY3QpIC5oNXAtdGV4dC1pbnB1dCcpO1xuXG4gICAgICAgIC8vIEZpZ3VyZSBvdXQgaWYgdGhpcyBpcyB0aGUgbGFzdCBpbnB1dFxuICAgICAgICBpc0xhc3RJbnB1dCA9ICR0aGlzLmlzKCRpbnB1dHNbJGlucHV0cy5sZW5ndGggLSAxXSk7XG4gICAgICB9XG5cbiAgICAgIGlmICgodGFiUHJlc3NlZEF1dG9DaGVjayAmJiBpc0xhc3RJbnB1dCAmJiAhc2VsZi5zaGlmdFByZXNzZWQpIHx8XG4gICAgICAgICAgKGVudGVyUHJlc3NlZCAmJiBpc0xhc3RJbnB1dCkpIHtcbiAgICAgICAgLy8gRm9jdXMgZmlyc3QgYnV0dG9uIG9uIG5leHQgdGlja1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBzZWxmLmZvY3VzQnV0dG9uKCk7XG4gICAgICAgIH0sIDEwKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGVudGVyUHJlc3NlZCkge1xuICAgICAgICBpZiAoaXNMYXN0SW5wdXQpIHtcbiAgICAgICAgICAvLyBDaGVjayBhbnN3ZXJzXG4gICAgICAgICAgJHRoaXMudHJpZ2dlcignYmx1cicpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIC8vIEZpbmQgbmV4dCBpbnB1dCB0byBmb2N1c1xuICAgICAgICAgICRpbnB1dHMuZXEoJGlucHV0cy5pbmRleCgkdGhpcykgKyAxKS5mb2N1cygpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBQcmV2ZW50IGZvcm0gc3VibWlzc2lvbiBvbiBlbnRlciBrZXlcbiAgICAgIH1cbiAgICB9KS5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgICAgc2VsZi5hbnN3ZXJlZCA9IHRydWU7XG4gICAgICBzZWxmLnRyaWdnZXJYQVBJKCdpbnRlcmFjdGVkJyk7XG4gICAgfSk7XG5cbiAgICBzZWxmLm9uKCdyZXNpemUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBzZWxmLnJlc2V0R3Jvd1RleHRGaWVsZCgpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXMuJHF1ZXN0aW9ucztcbiAgfTtcblxuICAvKipcbiAgICpcbiAgICovXG4gIEJsYW5rcy5wcm90b3R5cGUuYXV0b0dyb3dUZXh0RmllbGQgPSBmdW5jdGlvbiAoJGlucHV0KSB7XG4gICAgLy8gRG8gbm90IHNldCB0ZXh0IGZpZWxkIHNpemUgd2hlbiBzZXBhcmF0ZSBsaW5lcyBpcyBlbmFibGVkXG4gICAgaWYgKHRoaXMucGFyYW1zLmJlaGF2aW91ci5zZXBhcmF0ZUxpbmVzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBmb250U2l6ZSA9IHBhcnNlSW50KCRpbnB1dC5jc3MoJ2ZvbnQtc2l6ZScpLCAxMCk7XG4gICAgdmFyIG1pbkVtID0gMztcbiAgICB2YXIgbWluUHggPSBmb250U2l6ZSAqIG1pbkVtO1xuICAgIHZhciByaWdodFBhZEVtID0gMy4yNTtcbiAgICB2YXIgcmlnaHRQYWRQeCA9IGZvbnRTaXplICogcmlnaHRQYWRFbTtcbiAgICB2YXIgc3RhdGljX21pbl9wYWQgPSAwLjUgKiBmb250U2l6ZTtcblxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgIHZhciB0bXAgPSAkKCc8ZGl2PicsIHtcbiAgICAgICAgJ3RleHQnOiAkaW5wdXQudmFsKClcbiAgICAgIH0pO1xuICAgICAgdG1wLmNzcyh7XG4gICAgICAgICdwb3NpdGlvbic6ICdhYnNvbHV0ZScsXG4gICAgICAgICd3aGl0ZS1zcGFjZSc6ICdub3dyYXAnLFxuICAgICAgICAnZm9udC1zaXplJzogJGlucHV0LmNzcygnZm9udC1zaXplJyksXG4gICAgICAgICdmb250LWZhbWlseSc6ICRpbnB1dC5jc3MoJ2ZvbnQtZmFtaWx5JyksXG4gICAgICAgICdwYWRkaW5nJzogJGlucHV0LmNzcygncGFkZGluZycpLFxuICAgICAgICAnd2lkdGgnOiAnaW5pdGlhbCdcbiAgICAgIH0pO1xuICAgICAgJGlucHV0LnBhcmVudCgpLmFwcGVuZCh0bXApO1xuICAgICAgdmFyIHdpZHRoID0gdG1wLndpZHRoKCk7XG4gICAgICB2YXIgcGFyZW50V2lkdGggPSBzZWxmLiRxdWVzdGlvbnMud2lkdGgoKTtcbiAgICAgIHRtcC5yZW1vdmUoKTtcbiAgICAgIGlmICh3aWR0aCA8PSBtaW5QeCkge1xuICAgICAgICAvLyBBcHBseSBtaW4gd2lkdGhcbiAgICAgICAgJGlucHV0LndpZHRoKG1pblB4ICsgc3RhdGljX21pbl9wYWQpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAod2lkdGggKyByaWdodFBhZFB4ID49IHBhcmVudFdpZHRoKSB7XG4gICAgICAgIC8vIEFwcGx5IG1heCB3aWR0aCBvZiBwYXJlbnRcbiAgICAgICAgJGlucHV0LndpZHRoKHBhcmVudFdpZHRoIC0gcmlnaHRQYWRQeCk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgLy8gQXBwbHkgd2lkdGggdGhhdCB3cmFwcyBpbnB1dFxuICAgICAgICAkaW5wdXQud2lkdGgod2lkdGggKyBzdGF0aWNfbWluX3BhZCk7XG4gICAgICB9XG4gICAgfSwgMSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlc2l6ZSBhbGwgdGV4dCBmaWVsZCBncm93dGggdG8gY3VycmVudCBzaXplLlxuICAgKi9cbiAgQmxhbmtzLnByb3RvdHlwZS5yZXNldEdyb3dUZXh0RmllbGQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgdGhpcy4kcXVlc3Rpb25zLmZpbmQoJ2lucHV0JykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICBzZWxmLmF1dG9Hcm93VGV4dEZpZWxkKCQodGhpcykpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUb2dnbGUgYnV0dG9ucyBkZXBlbmRlbnQgb2Ygc3RhdGUuXG4gICAqXG4gICAqIFVzaW5nIENTUy1ydWxlcyB0byBjb25kaXRpb25hbGx5IHNob3cvaGlkZSB1c2luZyB0aGUgZGF0YS1hdHRyaWJ1dGUgW2RhdGEtc3RhdGVdXG4gICAqL1xuICBCbGFua3MucHJvdG90eXBlLnRvZ2dsZUJ1dHRvblZpc2liaWxpdHkgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAvLyBUaGUgc2hvdyBzb2x1dGlvbnMgYnV0dG9uIGlzIGhpZGRlbiBpZiBhbGwgYW5zd2VycyBhcmUgY29ycmVjdFxuICAgIHZhciBhbGxDb3JyZWN0ID0gKHRoaXMuZ2V0U2NvcmUoKSA9PT0gdGhpcy5nZXRNYXhTY29yZSgpKTtcbiAgICBpZiAodGhpcy5wYXJhbXMuYmVoYXZpb3VyLmF1dG9DaGVjayAmJiBhbGxDb3JyZWN0KSB7XG4gICAgICAvLyBXZSBhcmUgdmlld2luZyB0aGUgc29sdXRpb25zXG4gICAgICBzdGF0ZSA9IFNUQVRFX0ZJTklTSEVEO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnBhcmFtcy5iZWhhdmlvdXIuZW5hYmxlU29sdXRpb25zQnV0dG9uKSB7XG4gICAgICBpZiAoc3RhdGUgPT09IFNUQVRFX0NIRUNLSU5HICYmICFhbGxDb3JyZWN0KSB7XG4gICAgICAgIHRoaXMuc2hvd0J1dHRvbignc2hvdy1zb2x1dGlvbicpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuaGlkZUJ1dHRvbignc2hvdy1zb2x1dGlvbicpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLnBhcmFtcy5iZWhhdmlvdXIuZW5hYmxlUmV0cnkpIHtcbiAgICAgIGlmICgoc3RhdGUgPT09IFNUQVRFX0NIRUNLSU5HICYmICFhbGxDb3JyZWN0KSB8fCBzdGF0ZSA9PT0gU1RBVEVfU0hPV0lOR19TT0xVVElPTikge1xuICAgICAgICB0aGlzLnNob3dCdXR0b24oJ3RyeS1hZ2FpbicpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuaGlkZUJ1dHRvbigndHJ5LWFnYWluJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHN0YXRlID09PSBTVEFURV9PTkdPSU5HKSB7XG4gICAgICB0aGlzLnNob3dCdXR0b24oJ2NoZWNrLWFuc3dlcicpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuaGlkZUJ1dHRvbignY2hlY2stYW5zd2VyJyk7XG4gICAgfVxuXG4gICAgdGhpcy50cmlnZ2VyKCdyZXNpemUnKTtcbiAgfTtcblxuICAvKipcbiAgICogQ2hlY2sgaWYgc29sdXRpb24gaXMgYWxsb3dlZC4gV2FybiB1c2VyIGlmIG5vdFxuICAgKi9cbiAgQmxhbmtzLnByb3RvdHlwZS5hbGxvd1NvbHV0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnBhcmFtcy5iZWhhdmlvdXIuc2hvd1NvbHV0aW9uc1JlcXVpcmVzSW5wdXQgPT09IHRydWUpIHtcbiAgICAgIGlmICghdGhpcy5hbGxCbGFua3NGaWxsZWRPdXQoKSkge1xuICAgICAgICB0aGlzLnVwZGF0ZUZlZWRiYWNrQ29udGVudCh0aGlzLnBhcmFtcy5ub3RGaWxsZWRPdXQpO1xuICAgICAgICB0aGlzLnJlYWQodGhpcy5wYXJhbXMubm90RmlsbGVkT3V0KTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcblxuICAvKipcbiAgICogQ2hlY2sgaWYgYWxsIGJsYW5rcyBhcmUgZmlsbGVkIG91dFxuICAgKlxuICAgKiBAbWV0aG9kIGFsbEJsYW5rc0ZpbGxlZE91dFxuICAgKiBAcmV0dXJuIHtib29sZWFufSBSZXR1cm5zIHRydWUgaWYgYWxsIGJsYW5rcyBhcmUgZmlsbGVkIG91dC5cbiAgICovXG4gIEJsYW5rcy5wcm90b3R5cGUuYWxsQmxhbmtzRmlsbGVkT3V0ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAhdGhpcy5jbG96ZXMuc29tZShmdW5jdGlvbiAoY2xvemUpIHtcbiAgICAgIHJldHVybiAhY2xvemUuZmlsbGVkT3V0KCk7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIE1hcmsgd2hpY2ggYW5zd2VycyBhcmUgY29ycmVjdCBhbmQgd2hpY2ggYXJlIHdyb25nIGFuZCBkaXNhYmxlIGZpZWxkcyBpZiByZXRyeSBpcyBvZmYuXG4gICAqL1xuICBCbGFua3MucHJvdG90eXBlLm1hcmtSZXN1bHRzID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlbGYuY2xvemVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBzZWxmLmNsb3plc1tpXS5jaGVja0Fuc3dlcigpO1xuICAgICAgaWYgKCFzZWxmLnBhcmFtcy5iZWhhdmlvdXIuZW5hYmxlUmV0cnkpIHtcbiAgICAgICAgc2VsZi5jbG96ZXNbaV0uZGlzYWJsZUlucHV0KCk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMudHJpZ2dlcigncmVzaXplJyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlbW92ZWQgbWFya2VkIHJlc3VsdHNcbiAgICovXG4gIEJsYW5rcy5wcm90b3R5cGUucmVtb3ZlTWFya2VkUmVzdWx0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLiRxdWVzdGlvbnMuZmluZCgnLmg1cC1pbnB1dC13cmFwcGVyJykucmVtb3ZlQ2xhc3MoJ2g1cC1jb3JyZWN0IGg1cC13cm9uZycpO1xuICAgIHRoaXMuJHF1ZXN0aW9ucy5maW5kKCcuaDVwLWlucHV0LXdyYXBwZXIgPiBpbnB1dCcpLmF0dHIoJ2Rpc2FibGVkJywgZmFsc2UpO1xuICAgIHRoaXMudHJpZ2dlcigncmVzaXplJyk7XG4gIH07XG5cblxuICAvKipcbiAgICogRGlzcGxheXMgdGhlIGNvcnJlY3QgYW5zd2Vyc1xuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFthbHdheXNTaG93U29sdXRpb25dXG4gICAqICBXaWxsIGFsd2F5cyBzaG93IHNvbHV0aW9uIGlmIHRydWVcbiAgICovXG4gIEJsYW5rcy5wcm90b3R5cGUuc2hvd0NvcnJlY3RBbnN3ZXJzID0gZnVuY3Rpb24gKGFsd2F5c1Nob3dTb2x1dGlvbikge1xuICAgIGlmICghYWx3YXlzU2hvd1NvbHV0aW9uICYmICF0aGlzLmFsbG93U29sdXRpb24oKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMudG9nZ2xlQnV0dG9uVmlzaWJpbGl0eShTVEFURV9TSE9XSU5HX1NPTFVUSU9OKTtcbiAgICB0aGlzLmhpZGVTb2x1dGlvbnMoKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jbG96ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuY2xvemVzW2ldLnNob3dTb2x1dGlvbigpO1xuICAgIH1cbiAgICB0aGlzLnRyaWdnZXIoJ3Jlc2l6ZScpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUb2dnbGUgaW5wdXQgYWxsb3dlZCBmb3IgYWxsIGlucHV0IGZpZWxkc1xuICAgKlxuICAgKiBAbWV0aG9kIGZ1bmN0aW9uXG4gICAqIEBwYXJhbSAge2Jvb2xlYW59IGVuYWJsZWQgVHJ1ZSBpZiBmaWVsZHMgc2hvdWxkIGFsbG93IGlucHV0LCBvdGhlcndpc2UgZmFsc2VcbiAgICovXG4gIEJsYW5rcy5wcm90b3R5cGUudG9nZ2xlQWxsSW5wdXRzID0gZnVuY3Rpb24gKGVuYWJsZWQpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2xvemVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLmNsb3plc1tpXS50b2dnbGVJbnB1dChlbmFibGVkKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIERpc3BsYXkgdGhlIGNvcnJlY3Qgc29sdXRpb24gZm9yIHRoZSBpbnB1dCBib3hlcy5cbiAgICpcbiAgICogVGhpcyBpcyBpbnZva2VkIGZyb20gQ1AgYW5kIFFTIC0gYmUgY2FyZWZ1bGwhXG4gICAqL1xuICBCbGFua3MucHJvdG90eXBlLnNob3dTb2x1dGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5wYXJhbXMuYmVoYXZpb3VyLmVuYWJsZVNvbHV0aW9uc0J1dHRvbiA9IHRydWU7XG4gICAgdGhpcy50b2dnbGVCdXR0b25WaXNpYmlsaXR5KFNUQVRFX0ZJTklTSEVEKTtcbiAgICB0aGlzLm1hcmtSZXN1bHRzKCk7XG4gICAgdGhpcy5zaG93RXZhbHVhdGlvbigpO1xuICAgIHRoaXMuc2hvd0NvcnJlY3RBbnN3ZXJzKHRydWUpO1xuICAgIHRoaXMudG9nZ2xlQWxsSW5wdXRzKGZhbHNlKTtcbiAgICAvL0hpZGVzIGFsbCBidXR0b25zIGluIFwic2hvdyBzb2x1dGlvblwiIG1vZGUuXG4gICAgdGhpcy5oaWRlQnV0dG9ucygpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXNldHMgdGhlIGNvbXBsZXRlIHRhc2suXG4gICAqIFVzZWQgaW4gY29udHJhY3RzLlxuICAgKiBAcHVibGljXG4gICAqL1xuICBCbGFua3MucHJvdG90eXBlLnJlc2V0VGFzayA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmFuc3dlcmVkID0gZmFsc2U7XG4gICAgdGhpcy5oaWRlRXZhbHVhdGlvbigpO1xuICAgIHRoaXMuaGlkZVNvbHV0aW9ucygpO1xuICAgIHRoaXMuY2xlYXJBbnN3ZXJzKCk7XG4gICAgdGhpcy5yZW1vdmVNYXJrZWRSZXN1bHRzKCk7XG4gICAgdGhpcy50b2dnbGVCdXR0b25WaXNpYmlsaXR5KFNUQVRFX09OR09JTkcpO1xuICAgIHRoaXMucmVzZXRHcm93VGV4dEZpZWxkKCk7XG4gICAgdGhpcy50b2dnbGVBbGxJbnB1dHModHJ1ZSk7XG4gICAgdGhpcy5kb25lID0gZmFsc2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIEhpZGVzIGFsbCBidXR0b25zLlxuICAgKiBAcHVibGljXG4gICAqL1xuICBCbGFua3MucHJvdG90eXBlLmhpZGVCdXR0b25zID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMudG9nZ2xlQnV0dG9uVmlzaWJpbGl0eShTVEFURV9GSU5JU0hFRCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRyaWdnZXIgeEFQSSBhbnN3ZXJlZCBldmVudFxuICAgKi9cbiAgQmxhbmtzLnByb3RvdHlwZS50cmlnZ2VyQW5zd2VyZWQgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmFuc3dlcmVkID0gdHJ1ZTtcbiAgICB2YXIgeEFQSUV2ZW50ID0gdGhpcy5jcmVhdGVYQVBJRXZlbnRUZW1wbGF0ZSgnYW5zd2VyZWQnKTtcbiAgICB0aGlzLmFkZFF1ZXN0aW9uVG9YQVBJKHhBUElFdmVudCk7XG4gICAgdGhpcy5hZGRSZXNwb25zZVRvWEFQSSh4QVBJRXZlbnQpO1xuICAgIHRoaXMudHJpZ2dlcih4QVBJRXZlbnQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgeEFQSSBkYXRhLlxuICAgKiBDb250cmFjdCB1c2VkIGJ5IHJlcG9ydCByZW5kZXJpbmcgZW5naW5lLlxuICAgKlxuICAgKiBAc2VlIGNvbnRyYWN0IGF0IHtAbGluayBodHRwczovL2g1cC5vcmcvZG9jdW1lbnRhdGlvbi9kZXZlbG9wZXJzL2NvbnRyYWN0cyNndWlkZXMtaGVhZGVyLTZ9XG4gICAqL1xuICBCbGFua3MucHJvdG90eXBlLmdldFhBUElEYXRhID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB4QVBJRXZlbnQgPSB0aGlzLmNyZWF0ZVhBUElFdmVudFRlbXBsYXRlKCdhbnN3ZXJlZCcpO1xuICAgIHRoaXMuYWRkUXVlc3Rpb25Ub1hBUEkoeEFQSUV2ZW50KTtcbiAgICB0aGlzLmFkZFJlc3BvbnNlVG9YQVBJKHhBUElFdmVudCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0YXRlbWVudDogeEFQSUV2ZW50LmRhdGEuc3RhdGVtZW50XG4gICAgfTtcbiAgfTtcblxuICAvKipcbiAgICogR2VuZXJhdGUgeEFQSSBvYmplY3QgZGVmaW5pdGlvbiB1c2VkIGluIHhBUEkgc3RhdGVtZW50cy5cbiAgICogQHJldHVybiB7T2JqZWN0fVxuICAgKi9cbiAgQmxhbmtzLnByb3RvdHlwZS5nZXR4QVBJRGVmaW5pdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZGVmaW5pdGlvbiA9IHt9O1xuICAgIGRlZmluaXRpb24uZGVzY3JpcHRpb24gPSB7XG4gICAgICAnZW4tVVMnOiB0aGlzLnBhcmFtcy50ZXh0XG4gICAgfTtcbiAgICBkZWZpbml0aW9uLnR5cGUgPSAnaHR0cDovL2FkbG5ldC5nb3YvZXhwYXBpL2FjdGl2aXRpZXMvY21pLmludGVyYWN0aW9uJztcbiAgICBkZWZpbml0aW9uLmludGVyYWN0aW9uVHlwZSA9ICdmaWxsLWluJztcblxuICAgIGNvbnN0IGNsb3plU29sdXRpb25zID0gW107XG4gICAgbGV0IGNycCA9ICcnO1xuICAgIC8vIHhBUEkgZm9yY2VzIHVzIHRvIGNyZWF0ZSBzb2x1dGlvbiBwYXR0ZXJucyBmb3IgYWxsIHBvc3NpYmxlIHNvbHV0aW9uIGNvbWJpbmF0aW9uc1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wYXJhbXMucXVlc3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgcXVlc3Rpb24gPSB0aGlzLmhhbmRsZUJsYW5rcyh0aGlzLnBhcmFtcy5xdWVzdGlvbnNbaV0sIGZ1bmN0aW9uIChzb2x1dGlvbikge1xuICAgICAgICAvLyBDb2xsZWN0IGFsbCBzb2x1dGlvbiBjb21iaW5hdGlvbnMgZm9yIHRoZSBINVAgQWx0ZXJuYXRpdmUgZXh0ZW5zaW9uXG4gICAgICAgIGNsb3plU29sdXRpb25zLnB1c2goc29sdXRpb24uc29sdXRpb25zKTtcblxuICAgICAgICAvLyBDcmVhdGUgYSBiYXNpYyByZXNwb25zZSBwYXR0ZXJuIG91dCBvZiB0aGUgZmlyc3QgYWx0ZXJuYXRpdmUgZm9yIGVhY2ggYmxhbmtzIGZpZWxkXG4gICAgICAgIGNycCArPSAoIWNycCA/ICcnIDogJ1ssXScpICsgc29sdXRpb24uc29sdXRpb25zWzBdO1xuXG4gICAgICAgIC8vIFdlIHJlcGxhY2UgdGhlIHNvbHV0aW9ucyBpbiB0aGUgcXVlc3Rpb24gd2l0aCBhIFwiYmxhbmtcIlxuICAgICAgICByZXR1cm4gJ19fX19fX19fX18nO1xuICAgICAgfSk7XG4gICAgICBkZWZpbml0aW9uLmRlc2NyaXB0aW9uWydlbi1VUyddICs9IHF1ZXN0aW9uO1xuICAgIH1cblxuICAgIC8vIFNldCB0aGUgYmFzaWMgcmVzcG9uc2UgcGF0dGVybiAobm90IHN1cHBvcnRpbmcgbXVsdGlwbGUgYWx0ZXJuYXRpdmVzIGZvciBibGFua3MpXG4gICAgZGVmaW5pdGlvbi5jb3JyZWN0UmVzcG9uc2VzUGF0dGVybiA9IFtcbiAgICAgICd7Y2FzZV9tYXR0ZXJzPScgKyB0aGlzLnBhcmFtcy5iZWhhdmlvdXIuY2FzZVNlbnNpdGl2ZSArICd9JyArIGNycCxcbiAgICBdO1xuXG4gICAgLy8gQWRkIHRoZSBINVAgQWx0ZXJuYXRpdmUgZXh0ZW5zaW9uIHdoaWNoIHByb3ZpZGVzIGFsbCB0aGUgY29tYmluYXRpb25zIG9mIGRpZmZlcmVudCBhbnN3ZXJzXG4gICAgLy8gUmVwb3J0aW5nIHNvZnR3YXJlIHdpbGwgbmVlZCB0byBzdXBwb3J0IHRoaXMgZXh0ZW5zaW9uIGZvciBhbHRlcm5hdGl2ZXMgdG8gd29yay5cbiAgICBkZWZpbml0aW9uLmV4dGVuc2lvbnMgPSBkZWZpbml0aW9uLmV4dGVuc2lvbnMgfHwge307XG4gICAgZGVmaW5pdGlvbi5leHRlbnNpb25zW1hBUElfQ0FTRV9TRU5TSVRJVklUWV0gPSB0aGlzLnBhcmFtcy5iZWhhdmlvdXIuY2FzZVNlbnNpdGl2ZTtcbiAgICBkZWZpbml0aW9uLmV4dGVuc2lvbnNbWEFQSV9BTFRFUk5BVElWRV9FWFRFTlNJT05dID0gY2xvemVTb2x1dGlvbnM7XG5cbiAgICByZXR1cm4gZGVmaW5pdGlvbjtcbiAgfTtcblxuICAvKipcbiAgICogQWRkIHRoZSBxdWVzdGlvbiBpdHNlbHQgdG8gdGhlIGRlZmluaXRpb24gcGFydCBvZiBhbiB4QVBJRXZlbnRcbiAgICovXG4gIEJsYW5rcy5wcm90b3R5cGUuYWRkUXVlc3Rpb25Ub1hBUEkgPSBmdW5jdGlvbih4QVBJRXZlbnQpIHtcbiAgICB2YXIgZGVmaW5pdGlvbiA9IHhBUElFdmVudC5nZXRWZXJpZmllZFN0YXRlbWVudFZhbHVlKFsnb2JqZWN0JywgJ2RlZmluaXRpb24nXSk7XG4gICAgJC5leHRlbmQodHJ1ZSwgZGVmaW5pdGlvbiwgdGhpcy5nZXR4QVBJRGVmaW5pdGlvbigpKTtcblxuICAgIC8vIFNldCByZXBvcnRpbmcgbW9kdWxlIHZlcnNpb24gaWYgYWx0ZXJuYXRpdmUgZXh0ZW5zaW9uIGlzIHVzZWRcbiAgICBpZiAoZGVmaW5pdGlvbi5leHRlbnNpb25zICYmIGRlZmluaXRpb24uZXh0ZW5zaW9uc1tYQVBJX0FMVEVSTkFUSVZFX0VYVEVOU0lPTl0pIHtcbiAgICAgIGNvbnN0IGNvbnRleHQgPSB4QVBJRXZlbnQuZ2V0VmVyaWZpZWRTdGF0ZW1lbnRWYWx1ZShbJ2NvbnRleHQnXSk7XG4gICAgICBjb250ZXh0LmV4dGVuc2lvbnMgPSBjb250ZXh0LmV4dGVuc2lvbnMgfHwge307XG4gICAgICBjb250ZXh0LmV4dGVuc2lvbnNbWEFQSV9SRVBPUlRJTkdfVkVSU0lPTl9FWFRFTlNJT05dID0gJzEuMS4wJztcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFBhcnNlIHRoZSBzb2x1dGlvbiB0ZXh0ICh0ZXh0IGJldHdlZW4gdGhlIGFzdGVyaXNrcylcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNvbHV0aW9uVGV4dFxuICAgKiBAcmV0dXJucyB7b2JqZWN0fSB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllc1xuICAgKiAgLSB0aXA6IHRoZSB0aXAgdGV4dCBmb3IgdGhpcyBzb2x1dGlvbiwgdW5kZWZpbmVkIGlmIG5vIHRpcFxuICAgKiAgLSBzb2x1dGlvbnM6IGFycmF5IG9mIHNvbHV0aW9uIHdvcmRzXG4gICAqL1xuICBCbGFua3MucHJvdG90eXBlLnBhcnNlU29sdXRpb24gPSBmdW5jdGlvbiAoc29sdXRpb25UZXh0KSB7XG4gICAgdmFyIHRpcCwgc29sdXRpb24sIHR0c0lEO1xuICAgIHZhciB0aXBTdGFydCA9IHNvbHV0aW9uVGV4dC5pbmRleE9mKCc6Jyk7XG4gICAgaWYgKHRpcFN0YXJ0ICE9PSAtMSkge1xuICAgICAgLy8gRm91bmQgdGlwLCBub3cgZXh0cmFjdFxuICAgICAgdGlwID0gc29sdXRpb25UZXh0LnNsaWNlKHRpcFN0YXJ0ICsgMSk7XG4gICAgICBzb2x1dGlvbiA9IHNvbHV0aW9uVGV4dC5zbGljZSgwLCB0aXBTdGFydCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgc29sdXRpb24gPSBzb2x1dGlvblRleHQ7XG4gICAgfVxuXG4gICAgdmFyIHR0c1N0YXJ0ID0gc29sdXRpb24uaW5kZXhPZignJCcpO1xuICAgIGlmICh0dHNTdGFydCAhPT0gLTEpIHtcbiAgICAgIC8vIEZvdW5kIHR0c0lELCBub3cgZXh0cmFjdFxuICAgICAgdHRzSUQgPSBzb2x1dGlvbi5zbGljZSh0dHNTdGFydCArIDEpO1xuICAgICAgc29sdXRpb24gPSBzb2x1dGlvbi5zbGljZSgwLCB0dHNTdGFydCk7XG4gICAgfVxuXG4gICAgLy8gU3BsaXQgdXAgYWx0ZXJuYXRpdmVzXG4gICAgdmFyIHNvbHV0aW9ucyA9IHNvbHV0aW9uLnNwbGl0KCcvJyk7XG5cbiAgICAvLyBUcmltIHNvbHV0aW9uc1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc29sdXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBzb2x1dGlvbnNbaV0gPSBINVAudHJpbShzb2x1dGlvbnNbaV0pO1xuXG4gICAgICAvL2RlY29kZXMgaHRtbCBlbnRpdGllc1xuICAgICAgdmFyIGVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZXh0YXJlYScpO1xuICAgICAgZWxlbS5pbm5lckhUTUwgPSBzb2x1dGlvbnNbaV07XG4gICAgICBzb2x1dGlvbnNbaV0gPSBlbGVtLnZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICB0aXA6IHRpcCxcbiAgICAgIHNvbHV0aW9uczogc29sdXRpb25zLFxuICAgICAgdHRzSUQ6IHR0c0lEXG4gICAgfTtcbiAgfTtcblxuICAvKipcbiAgICogQWRkIHRoZSByZXNwb25zZSBwYXJ0IHRvIGFuIHhBUEkgZXZlbnRcbiAgICpcbiAgICogQHBhcmFtIHtINVAuWEFQSUV2ZW50fSB4QVBJRXZlbnRcbiAgICogIFRoZSB4QVBJIGV2ZW50IHdlIHdpbGwgYWRkIGEgcmVzcG9uc2UgdG9cbiAgICovXG4gIEJsYW5rcy5wcm90b3R5cGUuYWRkUmVzcG9uc2VUb1hBUEkgPSBmdW5jdGlvbiAoeEFQSUV2ZW50KSB7XG4gICAgeEFQSUV2ZW50LnNldFNjb3JlZFJlc3VsdCh0aGlzLmdldFNjb3JlKCksIHRoaXMuZ2V0TWF4U2NvcmUoKSwgdGhpcyk7XG4gICAgeEFQSUV2ZW50LmRhdGEuc3RhdGVtZW50LnJlc3VsdC5yZXNwb25zZSA9IHRoaXMuZ2V0eEFQSVJlc3BvbnNlKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlIHhBUEkgdXNlciByZXNwb25zZSwgdXNlZCBpbiB4QVBJIHN0YXRlbWVudHMuXG4gICAqIEByZXR1cm4ge3N0cmluZ30gVXNlciBhbnN3ZXJzIHNlcGFyYXRlZCBieSB0aGUgXCJbLF1cIiBwYXR0ZXJuXG4gICAqL1xuICBCbGFua3MucHJvdG90eXBlLmdldHhBUElSZXNwb25zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdXNlcnNBbnN3ZXJzID0gdGhpcy5nZXRDdXJyZW50U3RhdGUoKTtcbiAgICByZXR1cm4gdXNlcnNBbnN3ZXJzLmpvaW4oJ1ssXScpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTaG93IGV2YWx1YXRpb24gd2lkZ2V0LCBpLmU6ICdZb3UgZ290IHggb2YgeSBibGFua3MgY29ycmVjdCdcbiAgICovXG4gIEJsYW5rcy5wcm90b3R5cGUuc2hvd0V2YWx1YXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG1heFNjb3JlID0gdGhpcy5nZXRNYXhTY29yZSgpO1xuICAgIHZhciBzY29yZSA9IHRoaXMuZ2V0U2NvcmUoKTtcbiAgICB2YXIgc2NvcmVUZXh0ID0gSDVQLlF1ZXN0aW9uLmRldGVybWluZU92ZXJhbGxGZWVkYmFjayh0aGlzLnBhcmFtcy5vdmVyYWxsRmVlZGJhY2ssIHNjb3JlIC8gbWF4U2NvcmUpLnJlcGxhY2UoJ0BzY29yZScsIHNjb3JlKS5yZXBsYWNlKCdAdG90YWwnLCBtYXhTY29yZSk7XG5cbiAgICB0aGlzLnNldEZlZWRiYWNrKHNjb3JlVGV4dCwgc2NvcmUsIG1heFNjb3JlLCB0aGlzLnBhcmFtcy5zY29yZUJhckxhYmVsKTtcblxuICAgIGlmIChzY29yZSA9PT0gbWF4U2NvcmUpIHtcbiAgICAgIHRoaXMudG9nZ2xlQnV0dG9uVmlzaWJpbGl0eShTVEFURV9GSU5JU0hFRCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBIaWRlIHRoZSBldmFsdWF0aW9uIHdpZGdldFxuICAgKi9cbiAgQmxhbmtzLnByb3RvdHlwZS5oaWRlRXZhbHVhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBDbGVhciBldmFsdWF0aW9uIHNlY3Rpb24uXG4gICAgdGhpcy5yZW1vdmVGZWVkYmFjaygpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBIaWRlIHNvbHV0aW9ucy4gKC90cnkgYWdhaW4pXG4gICAqL1xuICBCbGFua3MucHJvdG90eXBlLmhpZGVTb2x1dGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gQ2xlYW4gc29sdXRpb24gZnJvbSBxdWl6XG4gICAgdGhpcy4kcXVlc3Rpb25zLmZpbmQoJy5oNXAtY29ycmVjdC1hbnN3ZXInKS5yZW1vdmUoKTtcbiAgfTtcblxuICAvKipcbiAgICogR2V0IG1heGltdW0gbnVtYmVyIG9mIGNvcnJlY3QgYW5zd2Vycy5cbiAgICpcbiAgICogQHJldHVybnMge051bWJlcn0gTWF4IHBvaW50c1xuICAgKi9cbiAgQmxhbmtzLnByb3RvdHlwZS5nZXRNYXhTY29yZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuIHNlbGYuY2xvemVzLmxlbmd0aDtcbiAgfTtcblxuICAvKipcbiAgICogQ291bnQgdGhlIG51bWJlciBvZiBjb3JyZWN0IGFuc3dlcnMuXG4gICAqXG4gICAqIEByZXR1cm5zIHtOdW1iZXJ9IFBvaW50c1xuICAgKi9cbiAgQmxhbmtzLnByb3RvdHlwZS5nZXRTY29yZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIGNvcnJlY3QgPSAwO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VsZi5jbG96ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChzZWxmLmNsb3plc1tpXS5jb3JyZWN0KCkpIHtcbiAgICAgICAgY29ycmVjdCsrO1xuICAgICAgfVxuICAgICAgc2VsZi5wYXJhbXMudXNlckFuc3dlcnNbaV0gPSBzZWxmLmNsb3plc1tpXS5nZXRVc2VyQW5zd2VyKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvcnJlY3Q7XG4gIH07XG5cbiAgQmxhbmtzLnByb3RvdHlwZS5nZXRUaXRsZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBINVAuY3JlYXRlVGl0bGUoKHRoaXMuY29udGVudERhdGEubWV0YWRhdGEgJiYgdGhpcy5jb250ZW50RGF0YS5tZXRhZGF0YS50aXRsZSkgPyB0aGlzLmNvbnRlbnREYXRhLm1ldGFkYXRhLnRpdGxlIDogJ0ZpbGwgSW4nKTtcbiAgfTtcblxuICAvKipcbiAgICogQ2xlYXIgdGhlIHVzZXIncyBhbnN3ZXJzXG4gICAqL1xuICBCbGFua3MucHJvdG90eXBlLmNsZWFyQW5zd2VycyA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmNsb3plcy5mb3JFYWNoKGZ1bmN0aW9uIChjbG96ZSkge1xuICAgICAgY2xvemUuc2V0VXNlcklucHV0KCcnKTtcbiAgICAgIGNsb3plLnJlc2V0QXJpYUxhYmVsKCk7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBhbGwgaGFzIGJlZW4gYW5zd2VyZWQuXG4gICAqXG4gICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgKi9cbiAgQmxhbmtzLnByb3RvdHlwZS5nZXRBbnN3ZXJHaXZlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5hbnN3ZXJlZCB8fCAhdGhpcy5oYXNDbG96ZXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEhlbHBzIHNldCBmb2N1cyB0aGUgZ2l2ZW4gaW5wdXQgZmllbGQuXG4gICAqIEBwYXJhbSB7alF1ZXJ5fSAkaW5wdXRcbiAgICovXG4gIEJsYW5rcy5zZXRGb2N1cyA9IGZ1bmN0aW9uICgkaW5wdXQpIHtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICRpbnB1dC5mb2N1cygpO1xuICAgIH0sIDEpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIG9iamVjdCBjb250YWluaW5nIGNvbnRlbnQgb2YgZWFjaCBjbG96ZVxuICAgKlxuICAgKiBAcmV0dXJucyB7b2JqZWN0fSBvYmplY3QgY29udGFpbmluZyBjb250ZW50IGZvciBlYWNoIGNsb3plXG4gICAqL1xuICBCbGFua3MucHJvdG90eXBlLmdldEN1cnJlbnRTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgY2xvemVzQ29udGVudCA9IFtdO1xuXG4gICAgLy8gR2V0IHVzZXIgaW5wdXQgZm9yIGV2ZXJ5IGNsb3plXG4gICAgdGhpcy5jbG96ZXMuZm9yRWFjaChmdW5jdGlvbiAoY2xvemUpIHtcbiAgICAgIGNsb3plc0NvbnRlbnQucHVzaChjbG96ZS5nZXRVc2VySW5wdXQoKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGNsb3plc0NvbnRlbnQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldHMgYW5zd2VycyB0byBjdXJyZW50IHVzZXIgc3RhdGVcbiAgICovXG4gIEJsYW5rcy5wcm90b3R5cGUuc2V0SDVQVXNlclN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgaXNWYWxpZFN0YXRlID0gKHRoaXMucHJldmlvdXNTdGF0ZSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXZpb3VzU3RhdGUubGVuZ3RoICYmXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXZpb3VzU3RhdGUubGVuZ3RoID09PSB0aGlzLmNsb3plcy5sZW5ndGgpO1xuXG4gICAgLy8gQ2hlY2sgdGhhdCBzdG9yZWQgdXNlciBzdGF0ZSBpcyB2YWxpZFxuICAgIGlmICghaXNWYWxpZFN0YXRlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gU2V0IGlucHV0IGZyb20gdXNlciBzdGF0ZVxuICAgIHZhciBoYXNBbGxDbG96ZXNGaWxsZWQgPSB0cnVlO1xuICAgIHRoaXMucHJldmlvdXNTdGF0ZS5mb3JFYWNoKGZ1bmN0aW9uIChjbG96ZUNvbnRlbnQsIGNjSW5kZXgpIHtcblxuICAgICAgLy8gUmVnaXN0ZXIgdGhhdCBhbiBhbnN3ZXIgaGFzIGJlZW4gZ2l2ZW5cbiAgICAgIGlmIChjbG96ZUNvbnRlbnQubGVuZ3RoKSB7XG4gICAgICAgIHNlbGYuYW5zd2VyZWQgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICB2YXIgY2xvemUgPSBzZWxmLmNsb3plc1tjY0luZGV4XTtcbiAgICAgIGNsb3plLnNldFVzZXJJbnB1dChjbG96ZUNvbnRlbnQpO1xuXG4gICAgICAvLyBIYW5kbGUgaW5zdGFudCBmZWVkYmFja1xuICAgICAgaWYgKHNlbGYucGFyYW1zLmJlaGF2aW91ci5hdXRvQ2hlY2spIHtcbiAgICAgICAgaWYgKGNsb3plLmZpbGxlZE91dCgpKSB7XG4gICAgICAgICAgY2xvemUuY2hlY2tBbnN3ZXIoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBoYXNBbGxDbG96ZXNGaWxsZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKHNlbGYucGFyYW1zLmJlaGF2aW91ci5hdXRvQ2hlY2sgJiYgaGFzQWxsQ2xvemVzRmlsbGVkKSB7XG4gICAgICBzZWxmLnNob3dFdmFsdWF0aW9uKCk7XG4gICAgICBzZWxmLnRvZ2dsZUJ1dHRvblZpc2liaWxpdHkoU1RBVEVfQ0hFQ0tJTkcpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogRGlzYWJsZXMgYW55IGFjdGl2ZSBpbnB1dC4gVXNlZnVsIGZvciBmcmVlemluZyB0aGUgdGFzayBhbmQgZGlzLWFsbG93aW5nXG4gICAqIG1vZGlmaWNhdGlvbiBvZiB3cm9uZyBhbnN3ZXJzLlxuICAgKi9cbiAgQmxhbmtzLnByb3RvdHlwZS5kaXNhYmxlSW5wdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy4kcXVlc3Rpb25zLmZpbmQoJ2lucHV0JykuYXR0cignZGlzYWJsZWQnLCB0cnVlKTtcbiAgfTtcblxuICByZXR1cm4gQmxhbmtzO1xufSkoSDVQLmpRdWVyeSwgSDVQLlF1ZXN0aW9uKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./H5P.Blanks/src/blanks.js\n");

/***/ })

/******/ });